////////////////////////////////
// func40b80()

S0 = 4;
loop40b90:	; 80040B90
    A0 = 1;
    func40ce0();

    if( V0 == 1 )
    {
        A0 = 80040c18;
        func40e2c();

        A0 = 80040c40;
        80040BBC	jal    func40e44 [$80040e44]

        A0 = 80040c68;
        80040BCC	jal    func435b4 [$800435b4]

        A0 = 0;
        80040BD4	jal    func435cc [$800435cc]

        return 1;
    }

    S0 = S0 - 1;
80040BE8	bne    s0, -1, loop40b90 [$80040b90]

A0 = 80018d60; // "CdInit: Init failed"
system_bios_printf();

return 0;
////////////////////////////////



////////////////////////////////
// func40ce0()

S0 = A0;

if( S0 == 2 )
{
    func42578();

    return 1;
}

func425c8();
if( V0 != 0 )
{
    return 0;
}

if( S0 != 1 )
{
    return 1;
}

func42484();
if( V0 != 0 )
{
    return 0;
}

return 1;
////////////////////////////////



////////////////////////////////
// func42484()

cd_1800 = w[80055e10]; // 1f801800

V1 = w[80055e24];
V0 = hu[V1 + 1b8];

80042498	bne    v0, zero, L424c0 [$800424c0]

V0 = hu[V1 + 1ba];
800424A8	bne    v0, zero, L424c4 [$800424c4]
V0 = 3fff;
[V1 + 0180] = h(V0);
[V1 + 0182] = h(V0);
V1 = w[80055e24];

L424c0:	; 800424C0
V0 = 3fff;

L424c4:	; 800424C4
[V1 + 01b0] = h(V0);
[V1 + 01b2] = h(V0);
V0 = c001;
[V1 + 01aa] = h(V0);
V0 = 0080;
[SP + 0002] = b(V0);
[SP + 0000] = b(V0);
[SP + 0003] = b(0);
[SP + 0001] = b(0);
[cd_1800] = b(2);
V1 = w[80055e18];
V0 = bu[SP + 0000];
[V1 + 0000] = b(V0);
V1 = w[80055e1c];
V0 = bu[SP + 0001];
[V1 + 0000] = b(V0);
[cd_1800] = b(3);
V1 = w[80055e14];
V0 = bu[SP + 0002];
[V1 + 0000] = b(V0);
V1 = w[80055e18];
V0 = bu[SP + 0003];
[V1 + 0000] = b(V0);
V1 = w[80055e1c];
V0 = 0020;
[V1 + 0000] = b(V0);

return 0;
////////////////////////////////



////////////////////////////////
// func42578()

[80055b4c] = w(0);
[80055b48] = w(0);
[80055b5c] = w(0);
[80055b58] = w(0);

func4b5e8();

A0 = 2;
A1 = 80042b20; // func42b20()
func4b618();
////////////////////////////////



////////////////////////////////
// func425c8()

cd_1800 = w[80055e10]; // 1f801800

A0 = 80018fac; // "CD_init:"
800425D8	jal    func42c04 [$80042c04]

A0 = 80018fb8; // "addr=%08x"
A1 = 80055e2c;
system_bios_printf();

[80055b69] = b(0);
[80055b68] = b(0);
[80055b4c] = w(0);
[80055b48] = w(0);
[80055b5c] = w(0);
[80055b58] = w(0);

func4b5e8();

A0 = 2;
A1 = 80042b20; // func42b20()
func4b618();

[cd_1800] = b(1);
V0 = w[80055e1c];
V0 = bu[V0];
V0 = V0 & 0007;
80042668	beq    v0, zero, L426c4 [$800426c4]
A0 = 0001;
V1 = 0007;

loop42674:	; 80042674
[cd_1800] = b(A0);
V0 = w[80055e1c];
[V0 + 0000] = b(V1);
V0 = w[80055e18];
[V0 + 0000] = b(V1);
V0 = w[80055e1c];
V0 = bu[V0 + 0000];
V0 = V0 & 0007;
800426BC	bne    v0, zero, loop42674 [$80042674]
800426C0	nop

L426c4:	; 800426C4
A0 = 0001;
A1 = 0;
A2 = 0;
[80055e2a] = b(0);
V0 = bu[80055e2a];
V1 = 80055e28;
[80055e29] = b(V0);
V0 = 0002;
[V1 + 0000] = b(V0);
[cd_1800] = b(0);
V0 = w[80055e1c];
A3 = 0;
[V0 + 0000] = b(0);
V1 = w[80055e20];
V0 = 1325;
[V1 + 0000] = w(V0);
80042724	jal    func41f00 [$80041f00]
80042728	nop
V0 = w[80055b58];
80042734	nop
V0 = V0 & 0010;
8004273C	beq    v0, zero, L42754 [$80042754]
A0 = 0001;
A1 = 0;
A2 = 0;
8004274C	jal    func41f00 [$80041f00]
A3 = 0;

L42754:	; 80042754
A0 = 000a;
A1 = 0;
A2 = 0;
80042760	jal    func41f00 [$80041f00]
A3 = 0;
80042768	bne    v0, zero, L427a4 [$800427a4]
8004276C	addiu  v0, zero, $ffff (=-$1)
A0 = 000c;
A1 = 0;
A2 = 0;
8004277C	jal    func41f00 [$80041f00]
A3 = 0;
80042784	bne    v0, zero, L427a4 [$800427a4]
80042788	addiu  v0, zero, $ffff (=-$1)
A0 = 0;
80042790	jal    func419b4 [$800419b4]
A1 = 0;
V0 = V0 ^ 0002;
V0 = 0 < V0;
V0 = 0 - V0;

L427a4:	; 800427A4
////////////////////////////////



////////////////////////////////
// func4b678()

V0 = w[80057fcc];
A1 = A0;
A0 = 4;
8004B694	jalr   w[V0 + 14] ra // func4be98
////////////////////////////////



////////////////////////////////
// func4be98()

if( A1 != w[80057fe0 + A0 * 4] )
{
    [80057fe0 + A0 * 4] = w(A1);
}
////////////////////////////////



////////////////////////////////
// func41264()
A0 = 3;
A1 = A0;
func4b648();
////////////////////////////////



////////////////////////////////
// func40e2c()

V0 = w[80055b48];
[80055b48] = w(A0);
return V0;
////////////////////////////////



////////////////////////////////
// func42b20()

cd_1800 = w[80055e10]; // 1f801800

S2 = b[cd_1800] & 3;

loop42b54:	; 80042B54
    func4142c();
    S0 = V0;

    if( S0 == 0 )
    {
        [cd_1800] = b(S2);
        return;
    }
    if( ( S0 & 4 ) && ( w[80055b4c] != 0 ) )
    {
        A0 = bu[80055e29];
        A1 = 800598b4;
        80042B90	jalr   w[80055b4c] ra
    }
    if( ( S0 & 2 ) && ( w[80055b48] != 0 ) )
    {
        A0 = bu[80055e28];
        A1 = 800598ac;
        80042BC4	jalr   w[80055b48] ra
    }
80042BCC	j      loop42b54 [$80042b54]
////////////////////////////////
