////////////////////////////////
// func28040()

S1 = A0;
S2 = A1;
S0 = A2; // ffffffff -1

[80059b18] = w(0);
[80059b1c] = w(0);
[80059b20] = w(0);
[80059b24] = w(0);
[80059b28] = w(0);
[80059b2c] = w(0);
[80059b34] = w(0);
[80059b38] = w(0);
[80059b44] = w(0);

if( S0 == 0 || S0 == -1 )
{
    L280b8:	; 800280B8
        func40b80();
    800280C0	beq    v0, zero, L280b8 [$800280b8]

    A0 = 0;
    800280C8	jal    func40d6c [$80040d6c]

    A0 = 0;
    800280D0	jal    func41264 [$80041264]

    A0 = 0;
    func40e2c();

    A0 = 0;
    800280E0	jal    func40e44 [$80040e44]

    A0 = 7;
    A1 = 0;
    A2 = 800595b8;
    800280F4	jal    func40e5c [$80040e5c]

    A0 = a0;
    800280FC	jal    func2a238 [$8002a238]

    A0 = 0;
    80028104	jal    func28870 [$80028870]

    A0 = 3;
    8002810C	jal    func4b3f4 [$8004b3f4]
}
else
{
    8002811C	jal    func4c234 [$8004c234]
}

if( S0 != -1 )
{
    [8004f4ec] = w(S0);
}
else
{
    [8004f4ec] = w(0);
}

[8004f494] = w(S1);
[8004f498] = w(S2);
[8004f4b8] = w(0);
[8004f4a0] = w(0);
[8004f49c] = w(0);
[8004f4c0] = w(0);
[8004f4f0] = w(-1);

if( S0 == 0 )
{
    A0 = 18;
    A1 = S1;
    A2 = 8000;
    A3 = 0;
    A4 = 0;
    80028194	jal    func2935c [$8002935c]

    A0 = 0;
    8002819C	jal    func28870 [$80028870]

    A0 = 28;
    A1 = w[8004f498];
    A2 = 7a;
    A3 = 0;
    A4 = 0;
    800281B8	jal    func2935c [$8002935c]

    A0 = 0;
    800281C0	jal    func28870 [$80028870]
}
////////////////////////////////



////////////////////////////////
// func40d6c()

V0 = w[80055b54];
[80055b54] = w(A0);
return V0;
////////////////////////////////



////////////////////////////////
// func40b80()

S0 = 4;
loop40b90:	; 80040B90
    A0 = 1;
    func40ce0();

    if( V0 == 1 )
    {
        A0 = 80040c18;
        func40e2c();

        A0 = 80040c40;
        80040BBC	jal    func40e44 [$80040e44]

        A0 = 80040c68;
        80040BCC	jal    func435b4 [$800435b4]

        A0 = 0;
        80040BD4	jal    func435cc [$800435cc]

        return 1;
    }

    S0 = S0 - 1;
80040BE8	bne    s0, -1, loop40b90 [$80040b90]

A0 = 80018d60; // "CdInit: Init failed"
system_bios_printf();

return 0;
////////////////////////////////



////////////////////////////////
// func40ce0()

S0 = A0;

if( S0 == 2 )
{
    func42578();

    return 1;
}

func425c8();
if( V0 != 0 )
{
    return 0;
}

if( S0 != 1 )
{
    return 1;
}

func42484();
if( V0 != 0 )
{
    return 0;
}

return 1;
////////////////////////////////



////////////////////////////////
// func42484()

cd_1800 = w[80055e10]; // 1f801800
cd_1802 = w[80055e18]; // 1f801802

V1 = w[80055e24];
V0 = hu[V1 + 1b8];

80042498	bne    v0, zero, L424c0 [$800424c0]

V0 = hu[V1 + 1ba];
800424A8	bne    v0, zero, L424c4 [$800424c4]

[V1 + 180] = h(V0);
[V1 + 182] = h(V0);
V1 = w[80055e24];

L424c0:	; 800424C0
L424c4:	; 800424C4
[V1 + 1b0] = h(3fff);
[V1 + 1b2] = h(3fff);
[V1 + 1aa] = h(c001);
[SP + 2] = b(80);
[SP + 0] = b(80);
[SP + 3] = b(0);
[SP + 1] = b(0);
[cd_1800] = b(2);
[cd_1802] = b(bu[SP + 0]);
V1 = w[80055e1c];
[V1] = b(bu[SP + 1]);
[cd_1800] = b(3);
V1 = w[80055e14];
[V1] = b(bu[SP + 2]);
[cd_1802] = b(bu[SP + 3]);
V1 = w[80055e1c];
[V1] = b(20);

return 0;
////////////////////////////////



////////////////////////////////
// func42578()

[80055b4c] = w(0);
[80055b48] = w(0);
[80055b5c] = w(0);
[80055b58] = w(0);

func4b5e8();

A0 = 2;
A1 = 80042b20; // func42b20()
func4b618();
////////////////////////////////



////////////////////////////////
// func425c8()

cd_1800 = w[80055e10]; // 1f801800
cd_1802 = w[80055e18]; // 1f801802
cd_1803 = w[80055e1c]; // 1f801803
com_delay = w[80055e20]; // 1f801020

A0 = 80018fac; // "CD_init:"
func42c04();

A0 = 80018fb8; // "addr=%08x"
A1 = 80055e2c;
system_bios_printf();

[80055b69] = b(0);
[80055b68] = b(0);
[80055b4c] = w(0);
[80055b48] = w(0);
[80055b5c] = w(0);
[80055b58] = w(0);

func4b5e8();

A0 = 2;
A1 = 80042b20; // func42b20()
func4b618();

[cd_1800] = b(1);

while( bu[cd_1803] & 7 )
{
    [cd_1800] = b(1);
    [cd_1803] = b(7);
    [cd_1802] = b(7);
}

[80055e2a] = b(0);
[80055e29] = b(bu[80055e2a]);
[80055e28] = b(2);
[cd_1800] = b(0);
[cd_1803] = b(0);
[com_delay] = w(1325);

A0 = 1;
A1 = 0;
A2 = 0;
A3 = 0;
func41f00(); // exec command

if( w[80055b58] & 10 )
{
    A0 = 1;
    A1 = 0;
    A2 = 0;
    A3 = 0;
    func41f00(); // exec command
}

A0 = a;
A1 = 0;
A2 = 0;
A3 = 0;
func41f00(); // exec command

if( V0 == 0 )
{
    A0 = c;
    A1 = 0;
    A2 = 0;
    A3 = 0;
    func41f00(); // exec command

    id( V0 == 0 )
    {
        A0 = 0;
        A1 = 0;
        80042790	jal    func419b4 [$800419b4]

        V0 = V0 ^ 2;
        V0 = 0 < V0;
        V0 = 0 - V0;
        return V0;
    }
}

return -1;
////////////////////////////////



////////////////////////////////
// func4b678()

V0 = w[80057fcc];
A1 = A0;
A0 = 4;
8004B694	jalr   w[V0 + 14] ra // func4be98
////////////////////////////////



////////////////////////////////
// func4be98()

if( A1 != w[80057fe0 + A0 * 4] )
{
    [80057fe0 + A0 * 4] = w(A1);
}
////////////////////////////////



////////////////////////////////
// func41264()
A0 = 3;
A1 = A0;
func4b648();
////////////////////////////////



////////////////////////////////
// func40e2c()

V0 = w[80055b48];
[80055b48] = w(A0);
return V0;
////////////////////////////////



////////////////////////////////
// func42b20()

cd_1800 = w[80055e10]; // 1f801800

S2 = b[cd_1800] & 3;

loop42b54:	; 80042B54
    func4142c();
    S0 = V0;

    if( S0 == 0 )
    {
        [cd_1800] = b(S2);
        return;
    }
    if( ( S0 & 4 ) && ( w[80055b4c] != 0 ) )
    {
        A0 = bu[80055e29];
        A1 = 800598b4;
        80042B90	jalr   w[80055b4c] ra
    }
    if( ( S0 & 2 ) && ( w[80055b48] != 0 ) )
    {
        A0 = bu[80055e28];
        A1 = 800598ac;
        80042BC4	jalr   w[80055b48] ra
    }
80042BCC	j      loop42b54 [$80042b54]
////////////////////////////////



////////////////////////////////
// func42c04()

str = A0;
if( str == 0 )
{
    str = 80018fd0; // "<NULL>"
}
80042C20	j      L42c30 [$80042c30]

loop42c28:	; 80042C28
    func42c54();

    L42c30:	; 80042C30
    A0 = bu[str];
    str = str + 1;
80042C38	bne    a0, zero, loop42c28 [$80042c28]
////////////////////////////////



////////////////////////////////
// func42c54()

[SP + 10] = b(A0);

if( A0 != 9 )
{
    if( A0 != a )
    {
        if( bu[80055e61 + A0] & 97 )
        {
            [800598d0] = w(w[800598d0] + 1);
        }

        A0 = 1;
        A1 = SP + 10;
        A2 = 1;
        system_bios_file_write();
    }

    A0 = d;
    func42c54();

    [800598d0] = w(0);

    A0 = 1;
    A1 = SP + 10;
    A2 = 1;
    system_bios_file_write();
    return;
}

L42c90:	; 80042C90
    A0 = 20;
    func42c54();

    if( ( w[800598d0] & 7 ) == 0 )
    {
        return;
    }
80042CB0	j      L42c90 [$80042c90]
////////////////////////////////
