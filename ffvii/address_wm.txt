800be1e8 to rotation array (0x2 size)


800c6770 buffer for skybox overlay render (0x2 items 0x24 size).

800c6808 lighting matrix.
800c6828 lighting matrix when 800e5634 == 2.
800c6848 light colour matrix.

800c70dc type colour array (0x8 size 0x7 items)
    // 3200 3200 E2FF 0000   0 - yellow chocobo
    // E2FF 3200 E2FF 0000   1 - green chocobo
    // E2FF 3200 3200 0000   2 - blue chocobo
    // B0FF B0FF B0FF 0000   3 - black chocobo
    // 4500 1100 6DFF 0000   4 - gold chocobo
    // 0000 01FF 01FF 0000   5 - red submarine
    // EFFF F1FF 0A00 0000   6 - blue submarine
    + 0 [][]     r.
    + 2 [][]     g.
    + 4 [][]     b.



800c7114 some model settings for model is 0x00-0x1f
000000 FF 01 02 03 09 FF FF FF FF 05 FF 08 06 07 FF FF FF FF FF FF FF 04 0A FF FF FF FF FF FF
000000 03 01 FF FF 09 FF 0A 0C FF 05 04 08 06 07 FF FF 02 FF FF FF FF 0B 0D FF FF FF FF FF FF
000000 03 01 FF FF FF FF 0A 0C FF 05 04 08 06 07 FF FF 02 09 FF FF FF 0B 0D FF FF FF FF FF FF
000000 03 01 FF FF 09 FF 0A 0C FF 05 04 08 06 07 FF FF 02 FF FF FF FF 0B 0D FF FF FF FF FF FF
000000 03 01 FF FF FF FF 0A 0C FF 05 04 08 06 07 FF FF 02 09 FF FF FF 0B 0D FF FF FF FF FF FF
000000 03 01 FF FF FF FF 0A FF 0C 05 04 08 06 07 FF FF 02 09 FF FF FF 0B 0D FF FF FF FF FF FF
000000 03 01 FF FF FF FF 0A FF 0C 05 04 08 06 07 FF FF 02 09 FF FF FF 0B 0D FF FF FF FF FF FF
000000 03 01 FF FF FF FF 0A FF FF 05 04 08 06 07 FF FF 02 09 FF FF FF FF 0C FF FF FF 0B FF FF
000000 03 01 FF FF FF FF 0A FF FF 05 04 08 06 07 FF FF 02 09 FF FF FF FF 0C FF FF FF 0B FF FF
000000 FF FF FF FF 02 01 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF
000000 FF FF FF FF 02 01 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF
000000 FF FF FF FF FF FF FF FF FF FF 01 FF FF FF 02 03 FF FF FF FF FF FF FF 04 05 06 FF 07 FF
000000 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 01 02 03 FF FF FF FF FF FF FF FF

800c744c array with .TXZ files cd data (0x8 size).
    000015D2 00028597 WORLD\WM0S.TXZ
    00001623 0002A65A WORLD\WM1S.TXZ
    00001678 0002A932 WORLD\WM2S.TXZ
    000016CE 0002A9E4 WORLD\WM3S.TXZ
    00001724 0002ACB8 WORLD\WM4S.TXZ
    0000177A 0002B277 WORLD\WM5S.TXZ
    000017D1 0002B607 WORLD\WM6S.TXZ
    00001828 0002A961 WORLD\WM7S.TXZ
    0000187E 0002ACE5 WORLD\WM8S.TXZ
    000018D4 00020ED7 WORLD\WM9S.TXZ
    00001916 00020F3F WORLD\WMAS.TXZ
800c74a4 array with .BOT files cd data (0x8 size).
    00001958 00EEA000 WM0.BOT
    0000372C 00000002 WM1.BOT
    0000372D 00228000 WM2.BOT
    00003B7D 000B8000 WM3.BOT
    +0 [][][][] sector for BOT files.
    +4 [][][][] size.
800c74c4 array with .BSZ files cd data (0x8 size).
    00003CED 00003093 WORLD\WM0.BSZ
    00003CF4 000033AB WORLD\WM1.BSZ
    00003CFB 0000314F WORLD\WM2.BSZ
    00003D02 0001948D WORLD\WM3.BSZ
    +0 [][][][] sector for BSZ files.
    +4 [][][][] size.
800c74e4 array with .MAP files cd data (0x8 size).
    00003D35 00319800 WORLD\WM0.MAP
    00004368 00000002 WORLD\WM1.MAP
    00004369 0008A000 WORLD\WM2.MAP
    0000447D 0002E000 WORLD\WM3.MAP
    +0 [][][][] sector for MAP files.
    +4 [][][][] size.
800c7504 array with .EV files cd data (0x8 size).
    000044D9 00007800 WORLD\WM0.EV
    000044E8 00004000 WORLD\WM1.EV
    000044F0 00007800 WORLD\WM2.EV
    000044FF 00007800 WORLD\WM3.EV
    0000450E 00000600 WORLD\FIELD.TBL
    +0 [][][][] sector for MAP files.
    +4 [][][][] size.

800c752c current write into buffer bit (into this we write data).

800c7538 sin cos array
800c7938 normals array by gpu packets (0x8 size)
    + 0 [][]     x.
    + 2 [][]     y.
    + 4 [][]     z.

800c84f4 draw env struct for buffer 1.
800c8550 display env struct for buffer 1.
800cc568 draw env struct for buffer 2.
800cc5c4 display env struct for buffer 2.

800e5608 [][][][] maybe initial camera rotation.

800e5634 [][][][] byte from savemap 8009c6e4 + fa2.

800e5668 [][][][] set combination of 800e5608 and pc entity rotation when set pc entity. Maybe camera rotation.
800e5674 [][][][] store 0 here at start of map in opcode 0x34b.

800e5680 buffer for skybox texture settings (0x2 items 0xc size).

800e5698 looks like main camera rotation matrix.
800e56b8 looks like main camera translation vector.


800e5714 pointer to 80156000. We load MAP and BOT here (looks like block related).
800e5718 linked array (0x8 items 0x8 size).
    + 0 [][][][] next element. Last item ptr == 0.

800e5760 [][][][] pointer to first item in 800e5718 list.
800e5764 [][][][] init with 0.
800e5768 [][][][] init with 0.

800e576c linked array (0x13 items 0x8 size).
    + 0 [][][][] next element. Last item ptr == 0.

800e580c [][][][] pointer to first element in 800e576c list.
800e5810 [][][][] init with 0.
800e5814 [][][][] init with 0.
800e5818 [][][][] init with 0.
800e581c [][][][] init with 0.
800e5820 [][][][] init with -1.
800e5824 [][][][] init with 0.
800e5828 [][][][] ???



80109d6c [][][][] store here value from 8009c6e4 + f5a.

80109d74 some entity struct.
80109e54 some entity struct.
80109f34 start of entity struct linked list. (0x0e items 0xe0 size)
+00 [][][][] pointer to previous entity.
+08 [][][][] ??? ptr to some entity struct
+0c [][][][] x
+10 [][][][] y
+14 [][][][] z
+18 [][][][] ???
+1c [][][][] X
+20 [][][][] Y
+24 [][][][] Z
+28 [][][][] ???
+3c [][]     rotation.
+3e [][]     init with 0.
+40 [][]     rotation of model (set using opcode 304).
+42 [][]     original Y pos here (before modification).
+44 [][]     y offset.
+4a [][]     init with 0.
+4c [][]     direction of movement (set using opcode 304 328).
+50 []       model id.
                0x00 cloud
                0x01 tifa
                0x02 cid
                0x03 highwind
                0x04 wild chocobo
                0x05 tiny bronco
                0x06 buggy
                0x07 canon in juno
                0x08 cargo ship
                0x09
                0x0a
                0x0b ultimate weapon
                0x0c phoenix
                0x0d submarine (colours set independantly)
                0x0e gold saucer
                0x0f rocket in rocket town
                0x10 rocket launch pad
                0x11
                0x12
                0x13 player chocobo (colours set independantly)
                0x14 forgotten city animation displayed???
                0x15 snow pole 1
                0x16 snow pole 2
                0x17 snow pole 3
                0x18 north crater dome
                0x19 ancient forest
                0x1a
                0x1b
                0x1c
                0x1d ruby weapon
                >0x20 ???
+51 []       some flags.
                0x01 - set flag if +c or +14 pos != +1c or +24 pos. Else remove flag.
                0x20 - animation loop (maybe indicates loop or indicates play once).
                0x40 - use walkmesh collision.
                0x80 - set if position was changed and needs to be recalculated.
+53 []       init with 0 when start animation. Maybe current frame.
+55 []       move speed.
+56 []       we stop wait in script if this is 0.
+58 []       ???
+5c []       we discrease +44 by this value during movement.
+5d []       animation id.
+5e []       init with -1.
+5f []       we increase +10 by this value during movement.
+90 start of packet for buffer 1.
+a8 start of packet for buffer 2
    +03 []       store 0x09 here.
    +04 []       R
    +05 []       G
    +06 []       B
    +07 []       store 0x2e here.
    +0c [][]     uv0.
    +0e [][]     CLUT.
    +14 [][]     uv1.
    +16 [][]     texpage.
    +1c [][]     uv2.
    +24 [][]     uv3.

8010ad34 [][][][] next free model pointer.
8010ad38 [][][][] pointer to last inserted model.
8010ad3c [][][][] pointer to active model.
8010ad40 [][][][] pointer to pc character model.

8010ad44 [][]     init with 0.
8010ad48 [][]     init with 0.
8010ad4c [][]     init with 0.
8010ad50 [][][][] init with pointer to player coords on world map (8009c6e4 + f5c).
8010ad54 [][][][] init with 0.
8010ad58 [][][][] init with 0.
8010ad5c [][][][] init with 0.
8010ad60 [][][][] init with 0.
8010ad64 [][][][] init with 0. Store height addition here.

8010ad6c [][][][] pointer to start of script. Each opcode or param takes 2 bytes.
8010ad70 start of stack. (0x8 size)
+00 [][][][] we store here byte next to opcode.
+04 [][][][] we store current opcode here (from 0x101 to 0x1ff)

8010ad90 [][][][] stack pointer. We store here 8010ad70.

8010ade4 [][][][] pointer to some wm script struct.
    +46 [][]     current script pair (we read 2 bytes at once).
    +56 []       wait value.

8010adf4 array of stored pos for PC entities. 0x10 size 0x3 items
8010ae34 some pos
8010ae54

8010b068 buffer for skybox overlay texture settings buffer (0x2 items 0xc size).

8010b174 [][][][] store 1 here at start of map if progress less or greater than 0x3e8. Meteor in the sky?

8010b178 array of points (0x24 size 0x10 items)
    + 0 [][][][] global x (ffffe000 - mesh part, 0x00001fff - local part).
    + 8 [][][][] global z (ffffe000 - mesh part, 0x00001fff - local part).
    +10 []       B.
    +11 []       G.
    +12 []       R.
    +13 []       type of point (light source (1) or set of coordinates (0)).
    +14 []       sky B.
    +15 []       sky G.
    +16 []       sky R.
    +18 []       some B.
    +19 []       some G.
    +1a []       some R.
    +1c [][][][] some range.
    +20 [][][][] some range.

8010b3b8 [][][][] pointer to active point structure.

801159e8 array of some data (0x2b items 0x1 size).
         -1 - not loaded.
          0 - pc character
    00 // 0 cloud
    FF // 1 tifa
    FF // 2 cid
    FF // 3 Highwind / Ultimate Weapon
    01 // 4 wild chocobo
    02 // 5
    03 // 6
    09 // 7
    FF // 8 cargo ship
    FF // 9
    FF // a
    FF // b
    05 // c
    FF // d submarine
    08 // e
    06 // f
    07 // 10
    FF // 11
    FF // 12
    FF // 13
    FF // 14
    FF // 15 snow pole 1
    FF // 16 snow pole 2
    FF // 17 snow pole 3
    04 // 18
    0A // 19 chocobo
    FF // 1a
    FF // 1b
    FF // 1c
    FF // 1d
    FF // 1e
    FF // 1f
    FF // 20
    FF // 21
    FF // 22
    FF // 23
    FF // 24
    FF // 25
    FF // 26
    FF // 27
    FF // 28
    FF // 29
    FF // 2a
80115a14 model related array. inited with 0 (0x2b items 0x1 size).

80115a40 [][][][] pointer to loaded WM3.BSZ with all models except PC.
80115a44 [][][][] current end of all render packets for models.
80115a48 [][][][] init with 0. Set to 1 after PC character loaded.
80115a4c [][][][] WM3.BSZ model pack loaded.
80115a50 [][][][] init with 0.
80115a54 [][][][] init with 0.
80115a58 [][][][] init with 0.
80115a5c [][][][] PC character model id.
80115a60 [][][][] PC character model loaded.
80115a64 [][][][] init with 0.
80115a68 [][][][] init with 0.

8011626c [][][][] we get value from here in 0x05 of 0x11b opcode. If 1 then place snow pole on map or remove their coords from savemap otherwise.

80116278 [][][][] init with 0.

801163e0 stack of script 1 byte values.
801163e8 [][][][] pointer to current 801163e0 stack position.

801164f8 [][][][] cam rotation.
801164fc [][][][] copy 801164f8 here if pc model if != 3 (highwind)

80116508 [][]     some length. Used to render skybox?

8013a7cc load textures WM0.TXZ here.

8013a804 

8014a600 place for BSZ PC character model file.
8014a610 pc model global offset (in loaded file)


80190000 we load textures WM0S.TXZ here.
801ad800 data of 1st render buffer of something.
801ce000 data of 2nd render buffer of something.