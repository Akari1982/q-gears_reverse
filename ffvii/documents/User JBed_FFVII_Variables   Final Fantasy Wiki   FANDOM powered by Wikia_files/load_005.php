window.dev=window.dev||{};dev.ReferencePopups=dev.ReferencePopups||{};dev.ReferencePopups.unload=dev.ReferencePopups.unload||function(){"use strict";delete this.Popup;delete this.configure;if(this.unloadCore){this.unloadCore();}};(function(module,lang){"use strict";var i18n={en:{coreConfigureText:'Configure Reference Popups',coreConfigureHover:'Change settings for Reference Popups'},ar:{coreConfigureText:'اضبط تلميحات المراجع',coreConfigureHover:'اضبط إعدادات تلميح المراجع'},be:{coreConfigureText:'Налада усплываючых падказак',coreConfigureHover:'Змяніць налады усплываючых падказак'},ca:{coreConfigureText:'Configura referències emergents',coreConfigureHover:'Canviar la configuració de referències emergents'},de:{coreConfigureText:'Referenz-Popups konfigurieren',coreConfigureHover:'Einstellungsänderungen für Referenz-Popups'},el:{coreConfigureText:
'Ρύθμιση Αναδυόμενων Αναφορών',coreConfigureHover:'Αλλαγή ρυθμίσεων για τις Αναδυόμενες Αναφορές'},es:{coreConfigureText:'Configurar popups de referencias',coreConfigureHover:'Modificar la configuración de los popups de referencias'},fr:{coreConfigureText:'Configurer Popups de Référence',coreConfigureHover:'Modifier les préférences pour les Popups de Référence'},it:{coreConfigureText:'Configura le note a popup',coreConfigureHover:'Cambia le impostazioni per le note a popup'},ja:{coreConfigureText:'注釈ふきだしの設定',coreConfigureHover:'注釈ふきだしの設定を変更する'},ko:{coreConfigureText:'주석 말풍선 설정',coreConfigureHover:'주석 말풍선 설정하기'},nl:{coreConfigureText:'Configureer Referentie Popups',coreConfigureHover:'Wijzig de instellingen voor Referentie Popups'},pl:{coreConfigureText:'Skonfiguruj wyskakujące przypisy',coreConfigureHover:
'Zmień ustawienia dla wyskakujących przypisów'},'pt-br':{coreConfigureText:'Configurar Popups de Referência',coreConfigureHover:'Mudar configurações para Popups de Referência'},ro:{coreConfigureText:'Configurați popupurile de referință',coreConfigureHover:'Schimbă setările pentru popupurile de referință'},ru:{coreConfigureText:'Настройка всплывающих подсказок',coreConfigureHover:'Изменить настройки всплывающих подсказок'},tr:{coreConfigureText:'Referans Bildirimlerini Yapılandır',coreConfigureHover:'Referans Bildirimleri\'nin seçeneklerini değiştir'},uk:{coreConfigureText:'Налаштування спливаючих підказок',coreConfigureHover:'Змінити налаштування спливаючих підказок'},vi:{coreConfigureText:'Thiết Đặt Popup Tham Khảo',coreConfigureHover:'Thay đổi thiết đặt cho Popup Tham Khảo'},zh:{coreConfigureText:
'设定参考资料弹窗',coreConfigureHover:'更改参考弹出窗口的设置'},'zh-hk':{coreConfigureText:'設定參考資料彈窗',coreConfigureHover:'更改參考彈出窗口的設置'},'zh-tw':{coreConfigureText:'設定參考資料彈窗',coreConfigureHover:'更改參考彈出窗口的設置'}};var msg=module.messages=module.messages||{};for(var m in i18n.en){msg[m]=msg[m]||(i18n[lang]&&i18n[lang][m])||i18n.en[m];}})(dev.ReferencePopups,mediaWiki.config.get('wgUserLanguage'));(function(window,$,mw){"use strict";var module=window.dev.ReferencePopups;if(module.Popup){return $.noop;}var mwReady=$.Deferred(),mwDeps=['jquery.ui.position','jquery.effects.fold','jquery.ui.core','jquery.ui.widget'];mw.loader.load(mwDeps,null,true);mw.loader.using(mwDeps,mwReady.resolve,mwReady.reject);var colors=window.dev.colors||$.ajax({url:mw.config.get('wgLoadScript'),data:{mode:'articles',only:'scripts',articles:'u:dev:Colors/code.js'},dataType:'script',cache:!0});if(!module.cssLoaded){window.
importArticle({type:'style',article:'u:dev:MediaWiki:ReferencePopups.css'});module.cssLoaded=!0;}var dfd=$.Deferred();module.Popup=dfd.promise();return function(callback){$.when(mwReady,colors).done(function(){dfd.resolve(module.Popup=callback(module,window,$,mw,window.dev.colors));}).fail(function(){delete module.Popup;dfd.reject();});};}(window,jQuery,mediaWiki))(function(module,window,$,mw,Colors){"use strict";$.curCSS=$.curCSS||$.css;(function(color,Colors,mw,$){function ifOk(val,alt){return(val&&val!=='transparent'&&val!=='rgba(0, 0, 0, 0)')?val:alt;}function tryParse(val,alt){try{return Colors.parse(val);}catch(e){if(window.console){window.console.warn('Colors Parse Error ('+val+'): ',e,e.stack);}return Colors.parse(alt);}}function toRgba(color,alpha){return'rgba('+color.red()+','+color.green()+','+color.blue()+','+alpha+')';}if(mw.config.get('skin')==='oasis'){color.page=Colors.parse(Colors.wikia.page);color.pageBorder=Colors.parse(Colors.wikia.border);color.accent=Colors.
parse(Colors.wikia.menu);color.popText=Colors.wikia.text;}else{var $content=$('#content');color.page=tryParse(ifOk($('#globalWrapper').css('backgroundColor'),$content.css('backgroundColor')),'white');color.pageBorder=tryParse(ifOk($content.css('borderLeftColor'),$content.css('borderRightColor')),'#AAA');color.accent=tryParse(ifOk($('#footer').css('borderTopColor'),$('body').css('backgroundColor')),'#fabd23');color.popText=tryParse($('#mw-content-text').css('color'),'black');}var mixCol;if(color.page.isBright()){color.back=color.page.mix(mixCol='black',95).mix('blue',97);}else{color.back=color.page.mix(mixCol='white',95);}color.popEdge=color.accent.mix(color.pageBorder,90);color.backA=toRgba(color.back,0.95);color.backB=toRgba(color.back.mix(mixCol,99),0.95);color.backC=toRgba(color.back.mix(mixCol,97),0.95);Colors.css(
'\
	.refpopups-box {\
		background-color: $back;\
		color: $popText;\
		border-color: $popEdge;\
		background: -webkit-linear-gradient(30deg, $backA, $backB 15%, $backB 25%, $backA 40%, $backA 50%, $backB 60%, $backB 70%, $backC 70%, $backC 90%, $backA 92%);\
		background: linear-gradient(60deg, $backA, $backB 15%, $backB 25%, $backA 40%, $backA 50%, $backB 60%, $backB 70%, $backC 70%, $backC 90%, $backA 92%);\
	}\
	.refpopups-chevron-in {\
		border-top-color: $back;\
		border-top-color: $backA;\
	}\
	.refpopups-flipped > .refpopups-chevron-in {\
		border-bottom-color: $back;\
		border-bottom-color: $backA;\
	}\
	.refpopups-chevron-out {\
		border-top-color: $popEdge;\
	}\
	.refpopups-flipped > .refpopups-chevron-out {\
		border-bottom-color: $popEdge;\
	}',color);})(module.colors=module.colors||{},Colors,mw,$);var widgetId=0;$.widget('Lunarity.referencePopup',{options:{activateBy:'hover',hoverDelay:200,content:'',disabled:!1,visible:!1,animation:'fold',animSpeed:300,context:null
,escapeCloses:!0,extraClass:'',contentBoxClass:'',stickyHover:!1,open:null,close:null},_create:function(){if(!this.document){this.document=$(this.element[0].ownerDocument);this.window=$(this.document[0].defaultView||this.document[0].parentWindow);this.eventNamespace='.'+this.widgetBaseClass+widgetId++;}this._timeouts={};this._$popup=$('<div class="refpopups-popup" id="'+this.eventNamespace.substr(1)+'">'+'<div class="refpopups-chevron-out"></div>'+'<div class="refpopups-chevron-in"></div>'+'<div class="refpopups-box">'+'</div></div>').addClass(this.options.extraClass).find('> .refpopups-box').addClass(this.options.contentBoxClass).end();this.options.context=$(this.document.find(this.options.context)[0]);if(!this.options.context.length){this.options.context=$(this.document[0].body);}this._setOption('activateBy',this.options.activateBy==='click'?'click':'hover');this._updateContent();if(!this.options.disabled){this.options.disabled=!0;this.enable();}if(this.options.visible){this.
options.visible=!1;this.show();}},_clearTimeout:function(name){if(this._timeouts[name]!==null){window.clearTimeout(this._timeouts[name]);this._timeouts[name]=null;}},_setTimeout:function(name,callback,delay){this._clearTimeout(name);var me=this;this._timeouts[name]=window.setTimeout(function(){me._timeouts[name]=null;callback.call(me);},delay||0);},_installEvents:function(){var self=this,map,ns=this.eventNamespace;this._$popup.off(ns);this.element.off(ns);this._clearTimeout('open');this._clearTimeout('close');if(this.options.disabled){return;}if(this.options.activateBy==='hover'){map={};map['mouseenter'+ns]=function(){self._clearTimeout('close');};map['mouseleave'+ns]=function(ev){self._setTimeout('close',function(){this.hide(ev);},self.options.hoverDelay);};this._$popup.on(map);map={};map['mouseenter'+ns]=function(ev){self._clearTimeout('close');self._setTimeout('open',function(){this.show(ev);},self.options.hoverDelay);};map['mouseleave'+ns]=function(ev){self._clearTimeout('open')
;if(!self.options.stickyHover){self._setTimeout('close',function(){this.hide(ev);},self.options.hoverDelay);}};this.element.on(map);}var lastTouch;map={};map['touchEnd'+ns]=function(ev){lastTouch=ev.originalEvent;};map['click'+ns]=function(ev){if((self.options.activateBy!=='click'&&(!lastTouch||lastTouch.defaultPrevented))||self.options.disabled){return;}lastTouch=null;if(!self.options.visible){ev.preventDefault();self.show(ev);}else{self.hide(ev);}};if(this.options.escapeCloses){var onKeyUp=function(ev){if(ev.which===$.ui.keyCode.ESCAPE){self.hide(ev);}};map['keyup'+ns]=onKeyUp;this._$popup.on('keyup'+ns,onKeyUp);}this.element.on(map);map=null;},triggerHover:function(event){if(this.options.activateBy==='hover'){this._setTimeout('open',function(){this.show(event);},this.options.hoverDelay);}},destroy:function(){this.hide();this._$popup.remove();this.element.off(this.eventNamespace);return $.Widget.prototype.destroy.call(this);},_updateContent:function(val){val=val||this.options.content
||'';if(!val.jquery&&!val.nodeType){this.options.content=val=$($(this.document[0].createElement('div')).html(val).contents().unwrap());}this._$popup.find('> .refpopups-box').empty().append(val);},_describeAria:function(yes){var k='aria-describedby',val=this.element.attr(k),s=val?val.split(/\s+/g):[],id=this._$popup[0].id,at=$.inArray(id,s);if(at!==-1){if(!yes){s.splice(at,1);}}else if(yes){s.push(id);}val=s.join(' ');this.element[val?'attr':'removeAttr'](k,val);},show:function(event){if(this.options.visible||this.options.disabled){return;}this.options.context.append(this._$popup.stop(true,true));this._positionPopup();this._describeAria(true);if(this.options.animation){this._$popup.hide().show(this.options.animation,this.options.animSpeed);}var triggered=0,self=this,ns=this.eventNamespace;this.window.on('scroll'+ns+' resize'+ns,function adaptCallback(){if(++triggered!==1){return;}self._positionPopup();window.setTimeout(function(){var t=triggered;triggered=0;if(t>1&&self.options.visible)
{adaptCallback();}},100);});if(this.options.activateBy==='click'){this.document.on('click'+ns,function(ev){if(!$(ev.target).closest(self._$popup.add(self.element)).length){self.hide();}});}this.options.visible=!0;this._trigger('open',event);},hide:function(event){if(!this.options.visible){return;}this.document.off(this.eventNamespace);this.window.off(this.eventNamespace);if(this.options.animation){var $clone=this._$popup.clone();this._$popup.after($clone);$clone.hide(this.options.animation,this.options.animSpeed,function(){$clone.remove();});}this._$popup.detach();this._describeAria(false);this.options.visible=!1;this._trigger('close',event);},toggle:function(yesno){yesno=(yesno!==void 0?yesno:!this.options.visible);this[yesno?'show':'hide']();},_setOption:function(key,val){switch(key){case'disabled':if(val&&this.options.visible){this.hide();}this.options.disabled=!!val;this._installEvents();return;case'visible':this[val?'show':'hide']();return;case'activateBy':if(({hover:1,click:
1})[val]===1){this.options.activateBy=val;this._installEvents();}return;case'content':this.options.content=val;this._updateContent();return;case'context':return;case'extraClass':this._$popup[0].className='refpopups-popup';this._$popup.addClass(val);break;case'extraBoxClass':this._$popup.find('> .refpopups-box').prop('className','refpopups-box').addClass(val);break;}return $.Widget.prototype._setOption.call(this,key,val);},_positionPopup:function(){var $popup=this._$popup.removeClass('refpopups-flipped'),$this=this.element,$chevOut=$popup.find('> .refpopups-chevron-out'),chevOutHeight=0;if($chevOut.is(':visible')){chevOutHeight=$chevOut.position().top+$chevOut.outerHeight()-$popup.outerHeight();}$popup.position({my:'bottom',at:'top',of:$this,collision:'fit none',offset:'0 -'+chevOutHeight});var spaceAtTop=$this.offset().top,spaceAtBottom=spaceAtTop+$this[0].offsetHeight,popupHeight=$popup[0].offsetHeight+chevOutHeight,scroll=this.window.scrollTop();spaceAtTop=spaceAtTop-scroll;
spaceAtBottom=(scroll+this.window.height())-spaceAtBottom;if(spaceAtTop<popupHeight&&spaceAtTop<spaceAtBottom){$popup.addClass('refpopups-flipped').position({my:'top',at:'bottom',of:$this,collision:'fit none',offset:'0 '+chevOutHeight});}if(!chevOutHeight){return;}var $chevIn=$popup.find('> .refpopups-chevron-in'),myLoc=$this.offset().left-$popup.offset().left+$this.outerWidth()/2;$chevOut.css('left',(myLoc-$chevOut.outerWidth()/2)+'px');$chevIn.css('left',(myLoc-$chevIn.outerWidth()/2)+'px');}});return $.Lunarity.referencePopup;});(function(window,$){"use strict";var module=window.dev.ReferencePopups;if(module.unloadCore){return $.noop;}module.unloadCore=$.noop;return function(callback){$.when(module.Popup).done(function(){callback(module,window,$,window.mediaWiki);}).fail(function(){delete module.unloadCore;});};}(window,jQuery))(function(module,window,$,mw){"use strict";var store={get:function(key){try{return JSON.parse(window.localStorage.getItem(key));}catch(e){return null;}},set:
function(key,data){try{window.localStorage.setItem(key,JSON.stringify(data));}catch(e){}}};var userConfig=(function(config,defaults){if(typeof(config)!=='object'||config===null){config={};}if(({hover:1,click:1})[config.react]!==1){config.react='hover';}config.hoverDelay=config.hoverDelay||defaults.hoverDelay||200;config.animate=(config.animate===void 0?defaults.animate===void 0||defaults.animate:!!config.animate);config.disabled=!!config.disabled&&!module.lockdown;config.stick=(config.stick===void 0?defaults.stick!==void 0&&defaults.stick:!!config.stick);return config;})(store.get('RefPopupsJS'),module.defaults||{});var armedPop=null,openPop=null;function cyclePopup(newTarget){if(openPop&&openPop.element.is(newTarget)){return;}if(armedPop){if(armedPop.element.is(newTarget)){return;}armedPop.destroy();}return(armedPop=constructPopup($(newTarget)));}function cleanupPopups(){if(openPop){openPop.destroy();}if(armedPop){armedPop.destroy();}openPop=armedPop=null;}$(function($){var lastTouch;
$('#mw-content-text').on({'touchEnd.RefPopups':function(ev){lastTouch=ev.originalEvent;},'click.RefPopups':function(ev){if(((!lastTouch||lastTouch.defaultPrevented)&&userConfig.react!=='click')||userConfig.disabled){return;}lastTouch=null;var pop=cyclePopup(this);if(pop){ev.preventDefault();pop.show(ev);}},'referencepopupopen.RefPopups':function(){if(!armedPop||!armedPop.element.is(this)){return;}var oldOpen=openPop;openPop=armedPop;armedPop=null;if(oldOpen){oldOpen.destroy();}},'referencepopupclose.RefPopups':function(){if(!openPop||!openPop.element.is(this)){return;}if(armedPop){openPop.destroy();}else{armedPop=openPop;}openPop=null;}},'.reference');$(window).on('pagehide.RefPopups',cleanupPopups);applyHoverEvents();});function applyHoverEvents(){var $article=$('#mw-content-text');$article.off('mouseenter.RefPopups');if(userConfig.disabled){return;}if(userConfig.react!=='hover'){if(openPop){openPop.option('activateBy','click');}if(armedPop){armedPop.option('activateBy','click');}
return;}$article.on('mouseenter.RefPopups','.reference',function(){var pop=cyclePopup(this);if(pop){pop.triggerHover();}});if(openPop){openPop.option('activateBy','hover');}if(armedPop){armedPop.option('activateBy','hover');}}if(!module.lockdown){$(function($){$('#articleCategories, #catlinks').first().after($('<a href="#configure-refpopups" class="refpopups-configure-page" />').html('['+module.messages.coreConfigureText+']').click(onClickConfigure).appendTo(this));});}module.unloadCore=function(){$('#mw-content-text').off('.RefPopups');$(window).off('.RefPopups');$('a[href="#configure-refpopups"]').remove();cleanupPopups();delete this.unloadCore;};$(window).trigger('dev-ReferencePopups-config',module.settings=$.extend({},userConfig));var configureIsPending=!1;function onClickConfigure(ev){ev.preventDefault();var closeFunc=function(){configureIsPending=!1;},interfaceFunc=function(confFunc){confFunc(userConfig,function(newSettings){store.set('RefPopupsJS',newSettings);
cleanupPopups();applyHoverEvents();$(window).trigger('dev-ReferencePopups-config',module.settings=$.extend({},newSettings));},closeFunc);};if(configureIsPending){return;}configureIsPending=!0;if(module.configure){$.when(module.configure).done(interfaceFunc).fail(closeFunc);return;}$.ajax({url:mw.config.get('wgLoadScript'),data:{mode:'articles',only:'scripts',articles:'w:dev:ReferencePopups/code.configure.js'},dataType:'script',cache:!0}).then(function(){$.when(module.configure).done(interfaceFunc).fail(closeFunc);}).fail(closeFunc);}function constructPopup($ref){var frag=$ref.find('a[href^="#cite_note"]').first();if(!frag.length){return null;}var $cite=$(frag.attr('href').replace(/\./g,'\\.'));if(!$cite.length){return null;}var $content=$('<div style="overflow:auto">'),$conf=$('<a href="#" class="refpopups-configure" />').prop('title',module.messages.coreConfigureHover).click(onClickConfigure);$content.append($cite.find('.reference-text').clone());return new module.Popup({content:
$conf.add($content),activateBy:userConfig.react,hoverDelay:userConfig.hoverDelay,animation:userConfig.animate&&'fold',stickyHover:userConfig.stick,contentBoxClass:'WikiaArticle'},$ref[0]);}});;var tooltips={debug:!1,api:!1,types:[],classes:['basic-tooltip','advanced-tooltip'],advancedCounter:1,events:[],timeouts:[],offsetX:20,offsetY:20,waitForImages:!1,noCSS:!1,init:function(){if($(document.body).hasClass('mw-special-InfoboxBuilder'))return;if(location.search.search(/ttdebug=(1|[Tt]rue)/)!=-1||(typeof tooltips_debug!='undefined'&&tooltips_debug))tooltips.debug=!0;var href=(new mw.Uri($('link[rel="canonical"]').attr('href'))).path;if(typeof href=='undefined'||!href){console.log('Tooltips: script couldn\'t find required  link[rel="canonical"]  tag');tooltips.disabled=!0;return false;}href=href.split('/wiki/');tooltips.api=href[0]+'/api.php?format=json&action=parse&disablepp=true&prop=text&title='+href[1];if(mw.util.getParamValue('uselang'))tooltips.api+='&uselang='+mw.
util.getParamValue('uselang');tooltips.api+='&text=';tooltips.types['basic-tooltip']={};tooltips.types['advanced-tooltip']={};if(!tooltips.config()){console.log('Tooltips: missing config');tooltips.disabled=!0;return false;}var content=$('#WikiaMainContent');if(!content.length)content=$('#mw-content-text');if(!tooltips.noCSS){$(importArticle({type:'style',article:'u:dev:MediaWiki:Tooltips.css'})).prependTo('head');}if($('#tooltip-wrapper').length===0)$('<div id="tooltip-wrapper" class="WikiaArticle"></div>').appendTo(document.body);if($('#tooltip-storage').length===0)$('<div id="tooltip-storage" class="WikiaArticle"></div>').append('<div class="main-tooltip tt-basic-tooltip" id="tooltip-basic-tooltip">Lorem ipsum dolor sit amet</div>').appendTo(content);$('#tooltip-wrapper').css({'margin':'0px','position':'fixed','height':'auto','min-height':'0','z-index':6000000,'font-size':'14px'}).hide();$('#tooltip-storage').css({'height':'0px','min-height':'0','visibility':'hidden','overflow':
'hidden','position':'static','font-size':'14px'});$('#tooltip-basic-tooltip').data('type','basic-tooltip');tooltips.applyTooltips(document);mw.hook('wikipage.content').add(function(elem){tooltips.applyTooltips($(elem));});if(typeof tooltips.events=='string')tooltips.events=[tooltips.events];for(var x=0;x<tooltips.events.length;x++){$(window).on(tooltips.events[x],function(ev,elem){tooltips.applyTooltips(elem||this)})}if(tooltips.debug){$('#tooltip-wrapper').css({'background-color':'rgba(255,0,0,0.2)'});$('#tooltip-storage').css({'background-color':'rgba(0,255,0,0.2)','height':'500px','overflow-y':'scroll','visibility':'visible'});}},config:function(){if(typeof tooltips_list!='undefined'){$(tooltips_list).each(function(i,v){tooltips.addType(v)});}if(typeof tooltips_config=='object'){tooltips.offsetX=tooltips_config.offsetX||tooltips.offsetX;tooltips.offsetY=tooltips_config.offsetY||tooltips.offsetY;tooltips.waitForImages=(tooltips_config.waitForImages||tooltips.waitForImages)&&!0;
tooltips.noCSS=tooltips_config.noCSS||tooltips.noCSS;tooltips.events=tooltips_config.events||tooltips.events;}return true;},applyTooltips:function(elem){$(elem).find('.'+tooltips.classes.join(', .')).each(function(){$this=$(this);if($this.hasClass('tooltips-init-complete'))return;$this.find('*').removeAttr('title');$this.mouseover(tooltips.handlers.mouseOver);$this.mouseout(tooltips.handlers.mouseOut);$this.mousemove(tooltips.handlers.mouseMove);$this.data('tooltip-contents',$(this).attr('title'));$this.removeAttr('title');tooltips.advancedTooltip($this);$(this).addClass('tooltips-init-complete');});},advancedTooltip:function(elem){elem=$(elem);if(!elem.hasClass('advanced-tooltip'))return;var tips=elem.find('.tooltip-contents');if(!tips.length)return;var tip=$('<div class="main-tooltip tt-advanced-tooltip"></div>').attr('id','tooltip-advanced-tooltip-'+tooltips.advancedCounter).appendTo('#tooltip-storage').data('type','advanced-tooltip').append($(tips[0]).contents()).each(tooltips.
calcSize);tips.remove();elem.data('tooltip-id-advanced-tooltip',tooltips.advancedCounter);tooltips.advancedCounter++;},addType:function(tt){if(typeof tooltips.types[tt.classname]=='undefined'){var obj={};if(typeof tt.parse=='string'||typeof tt.parse=='function')var parse=tt.parse;else var parse=!1;if(typeof tt.text=='string'||typeof tt.text=='function')var text=tt.text;else var text=!1;if(parse){obj.text=parse;obj.parse=!0;}else if(text){obj.text=text;obj.parse=!1;}else return;if(typeof obj.text=='string')obj.parameters=tooltips.getParameters(obj.text);else obj.parameters=[];if(typeof tt.delay=='string'||typeof tt.delay=='number')obj.delay=parseInt(tt.delay);else obj.delay=!1;if(typeof tt.onParsed=='function')obj.onParsed=tt.onParsed;if(typeof tt.onShow=='function')obj.onShow=tt.onShow;if(typeof tt.onHide=='function')obj.onHide=tt.onHide;tooltips.types[tt.classname]=obj;if(tooltips.classes.indexOf(tt.classname)==-1)tooltips.classes.push(tt.classname);}else{if(typeof tt.
delay=='string'||typeof tt.delay=='number')tooltips.types[tt.classname].delay=parseInt(tt.delay);if(typeof tt.onParsed=='function')tooltips.types[tt.classname].onParsed=tt.onParsed;if(typeof tt.onShow=='function')tooltips.types[tt.classname].onShow=tt.onShow;if(typeof tt.onHide=='function')tooltips.types[tt.classname].onHide=tt.onHide;}},getParameters:function(text){var list=[];var matches=text.match(/<#\s*[a-z0-9_\-]+?\s*#>/gi);if(matches){for(var x=0;x<matches.length;x++){list.push(/<#\s*([a-z0-9_\-]+?)\s*#>/i.exec(matches[x])[1]);}}return list;},getAPI:function(text){return tooltips.api+encodeURIComponent(text);},getText:function(type,elem){if(typeof tooltips.types[type].text=='function'){var text=tooltips.types[type].text($(elem)[0]);}else{var text=tooltips.types[type].text;for(var x=0;x<tooltips.types[type].parameters.length;x++){var param=tooltips.types[type].parameters[x];var value=$(elem).data(param);if(typeof value=='undefined')value='';var rx=new RegExp('<#\\s*'+param.replace
(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+'\\s*#>','g');text=text.replace(rx,value);}}return text;},getTooltip:function(type,elem){elem=$(elem);if(elem.data('tooltip-id-'+type))return $('#tooltip-'+type+'-'+elem.data('tooltip-id-'+type));var text=tooltips.getText(type,elem);var id=tooltips.hash(text);elem.data('tooltip-id-'+type,id);var tip=$('#tooltip-'+type+'-'+elem.data('tooltip-id-'+type));if(tip.length)return tip;tip=$('<div class="main-tooltip"></div>').attr('id','tooltip-'+type+'-'+id).appendTo('#tooltip-storage').data('type',type).addClass('tt-'+type);tooltips.wrapperPosition(tooltips.lastKnownMousePos[0],tooltips.lastKnownMousePos[1]);tooltips.sameWidth();if(!tooltips.types[type].parse){tip.html(text).each(tooltips.calcSize);tooltips.wrapperPosition(tooltips.lastKnownMousePos[0],tooltips.lastKnownMousePos[1]);tooltips.sameWidth();}else{tip.addClass('tooltip-loading');var api=tooltips.getAPI(text);if(tooltips.debug)tip.html('<pre style="padding:2px 3px;font-size:11px;">'+
api+'</pre>');tip.attr('title',api);$.ajax({url:api,dataType:'json',context:tip,success:function(data,textStatus,jqXHR){$(this).html(data['parse']['text']['*']).each(tooltips.calcSize);tooltips.wrapperPosition(tooltips.lastKnownMousePos[0],tooltips.lastKnownMousePos[1]);tooltips.sameWidth();var images=$(this).find('img');images.fadeTo(0,0).one('load',function(){if(tooltips.waitForImages){$(this).fadeTo(0,1);$(this).addClass('image-loaded');tip=$(this).closest('.main-tooltip');if(tip.find('img').length==tip.find('img.image-loaded').length){tip.removeClass('tooltip-loading').each(tooltips.calcSize);tooltips.wrapperPosition(tooltips.lastKnownMousePos[0],tooltips.lastKnownMousePos[1]);tooltips.sameWidth();}}else $(this).fadeTo(100,1);});if(tooltips.waitForImages){if(images.length===0){$(this).removeClass('tooltip-loading').each(tooltips.calcSize);}}else{$(this).removeClass('tooltip-loading').each(tooltips.calcSize);}var type=$(this).data('type')||!1;if(type&&typeof tooltips.types[type].
onParsed=='function'){tooltips.types[type].onParsed.call(this);tip.each(tooltips.calcSize);}if($(this).find('a.new').length>0)$(this).addClass('has-redlinks');tooltips.wrapperPosition(tooltips.lastKnownMousePos[0],tooltips.lastKnownMousePos[1]);tooltips.sameWidth();}});}return tip;},getBasicTooltip:function(elem){return $("#tooltip-basic-tooltip").html($(elem).data('tooltip-contents').replace(/\\n/g,'<br />')).each(tooltips.calcSize);},getAdvancedTooltip:function(elem){return $("#tooltip-advanced-tooltip-"+$(elem).data('tooltip-id-advanced-tooltip'));},getTooltips:function(elem){elem=$(elem);var classes=elem.attr('class').split(' ');var tips=[];for(var i=0;i<classes.length;i++){var tip=!1;if(classes[i]=='advanced-tooltip')tip=tooltips.getAdvancedTooltip(elem);else if(classes[i]=='basic-tooltip')tip=tooltips.getBasicTooltip(elem);else if(typeof tooltips.types[classes[i]]!='undefined')tip=tooltips.getTooltip(classes[i],elem);if(tip)tips.push(tip[0]);}return $(tips);},setOwnWidth:
function(){$this=$(this);if(typeof $this.data('width')!='undefined')$this.css('width',$this.data('width')+'px');else $this.css('width','');},calcSize:function(){$this=$(this);$this.css('position','absolute');var temp=$this.css('width');$this.css('width','');$this.data('width',parseFloat(window.getComputedStyle($this[0]).width));$this.data('height',parseFloat(window.getComputedStyle($this[0]).height));$this.data('outerwidth',$this.outerWidth(true));$this.data('outerheight',$this.outerHeight(true));$this.css('width',$this.data('width')+'px');$this.css('position','');$this.css('width',temp);},sameWidth:function(){if($("#tooltip-wrapper").find('.main-tooltip').length==1){$("#tooltip-wrapper").find('.main-tooltip').each(tooltips.setOwnWidth);}else{var width=0;$("#tooltip-wrapper").find('.main-tooltip').each(function(){width=Math.max(width,$(this).data('width')||0);});$("#tooltip-wrapper").find('.main-tooltip').each(function(){$(this).css('width',width+'px');});}},wrapperPosition:function(
mouseX,mouseY){var tipH=parseInt($("#tooltip-wrapper").css('padding-top'))+parseInt($("#tooltip-wrapper").css('padding-bottom'));var tipW=0;$("#tooltip-wrapper").find('.main-tooltip').each(function(){if(typeof $(this).data('outerheight')!='undefined')tipH+=$(this).data('outerheight');});$("#tooltip-wrapper").find('.main-tooltip').each(function(){if(typeof $(this).data('outerwidth')!='undefined')tipW=Math.max(tipW,$(this).data('outerwidth')+parseInt($("#tooltip-wrapper").css('padding-left'))+parseInt($("#tooltip-wrapper").css('padding-right')));});var coordX=tooltips.offsetX+mouseX;var coordY=tooltips.offsetY+mouseY;var toRight=$(window).width()-coordX;if($("#tooltip-wrapper").css('position')=='fixed'){coordX=coordX-$(window).scrollLeft();coordY=coordY-$(window).scrollTop();coordY=Math.min(coordY,$(window).height()-tipH-$('#WikiaBarWrapper').height());}else{coordY=Math.min(coordY,$(window).height()-tipH-$('#WikiaBarWrapper').height()+$(window).scrollTop());}if(toRight>=tipW)$(
"#tooltip-wrapper").css({left:coordX+'px',top:coordY+'px'});else $("#tooltip-wrapper").css({left:coordX-tipW-tooltips.offsetX*2+'px',top:coordY+'px'});},handlers:{mouseOver:function(e){tooltips.lastKnownMousePos=[e.pageX,e.pageY];tooltips.wrapperPosition(e.pageX,e.pageY);var tips=tooltips.getTooltips(this);$("#tooltip-wrapper").prepend(tips).show();tooltips.sameWidth();var handle=this;tips.each(function(){var $this=$(this);var type=$(this).data('type')||!1;$this.show();$(window).trigger('scroll');if(type&&typeof tooltips.types[type]!='undefined'&&tooltips.types[type].delay){$this.hide();tooltips.timeouts[$(this).attr('id')]=setTimeout(function(){$this.show();if(type&&typeof tooltips.types[type].onShow=='function')tooltips.types[type].onShow.call($this[0],handle);},tooltips.types[type].delay);}else if(type&&typeof tooltips.types[type].onShow=='function')tooltips.types[type].onShow.call(this,handle);});},mouseOut:function(e){tooltips.lastKnownMousePos=[e.pageX,e.pageY];tooltips.
wrapperPosition(e.pageX,e.pageY);var handle=this;$("#tooltip-wrapper").hide();$("#tooltip-wrapper").find('.main-tooltip').appendTo('#tooltip-storage').each(function(){var type=$(this).data('type')||!1;if(type&&typeof tooltips.types[type].onHide=='function')tooltips.types[type].onHide.call(this,handle);$(this).show();clearTimeout(tooltips.timeouts[$(this).attr('id')]);delete tooltips.timeouts[$(this).attr('id')];});},mouseMove:function(e){tooltips.lastKnownMousePos=[e.pageX,e.pageY];tooltips.wrapperPosition(e.pageX,e.pageY);},},hash:function(text){var hash=0,i,char;if(text.length===0)return hash;for(i=0,l=text.length;i<l;i++){char=text.charCodeAt(i);hash=((hash<<5)-hash)+char;hash|=0;}return hash;},};$(tooltips.init);;(function(){function init(i18n){var oggPlayer={support:'',allButtons:$([]),init:function(){if(typeof oggPlayerButtonOnly=='undefined')oggPlayerButtonOnly=!1;oggPlayer.support=document.createElement('audio').canPlayType('audio/ogg');oggPlayer.addCSS();if(!
oggPlayerButtonOnly)$('.ogg_player').each(function(){oggPlayer.prepPlayer($(this));});$('.audio-button').each(function(){oggPlayer.prepButton($(this));});mw.hook('wikipage.content').add(function(elem){if(!oggPlayerButtonOnly)$(elem).find('.ogg_player').each(function(){oggPlayer.prepPlayer($(this));});$(elem).find('.audio-button').each(function(){oggPlayer.prepButton($(this));});});},addCSS:function(){$(importArticle({type:'style',article:'u:dev:MediaWiki:OggPlayer.css'})).prependTo('head');},prepPlayer:function(player){if(player.data('url'))return;var button=player.find('button[onclick]');if(button.length){var onclick=button[0].onclick.toString();var match,url,width,height,isVideo;if(match=onclick.match(/"videoUrl":"((?:\\.|[^"\\])+)"/))url=match[1].replace('\\x26','&');if(match=onclick.match(/"width":([0-9]+)/))width=match[1];if(match=onclick.match(/"height":([0-9]+)/))height=match[1];if(match=onclick.match(/"isVideo":(true|false)/))isVideo=match[1]=='true';if(isVideo){oggPlayer.video
(player,url,width,height);}else{oggPlayer.audio(player,url,width);}}else{var p=player.find('> div > audio, > div > video');player.data('url',p.attr('src')).empty().append(p);}player.removeClass('ogg_player').addClass('ogg-player').removeAttr('id');},prepButton:function(button){if(button.prop('tagName')=='A'||button.hasClass('no-audio'))return;var src=button.data('src'),sources=button.find('audio, video, button[onclick], img, a.internal');if(oggPlayer.support===''){button.attr('title',i18n.msg('no-support').plain()).addClass('no-audio').empty();return;}if(typeof src=='undefined'||!oggPlayer.isValid(src)){sources.each(function(i,v){v=$(v);if(v.prop('tagName')=='A'){src=v.attr('href');}else if(v.prop('tagName')=='BUTTON'){var match,onclick=v[0].onclick.toString();if(match=onclick.match(/"videoUrl":"((?:\\.|[^"\\])+)"/))src=match[1];}else{src=v.attr('src');}if(oggPlayer.isValid(src))return false;src=!1;});if(!src){button.addClass('no-audio').empty().attr('title',i18n.msg('no-audio').
plain());return;}}var link=$('<a />',{'class':button.attr('class'),'style':button.attr('style'),'data-src':button.data('src'),'title':i18n.msg('play').plain(),'href':src,});link.click(function(e){e.preventDefault();var audio=$(this).find('audio');if(audio.prop('paused')){oggPlayer.stopAllButtons();audio.trigger('play');}else{audio.trigger('pause');}return false;});button.replaceWith(link);if(link.hasClass('click-parent')){if(!link.parent().hasClass('audio-button-parent')){link.parent().addClass('audio-button-parent').click(function(e){$(this).find('.click-parent').click();});}else{link.removeClass('click-parent');}}var audio=$('<audio />',{src:src,preload:'none',}).appendTo(link).on('play',function(e){$(this).parent().addClass('now-playing');}).on('pause',function(e){$(this).parent().removeClass('now-playing');this.currentTime=0;}).on('ended',function(e){$(this).trigger('pause');}).on('error',function(e){$(this).parent().addClass('no-audio').removeClass('now-playing').empty().attr(
'title','err'+i18n.msg('no-audio').plain());});oggPlayer.allButtons=oggPlayer.allButtons.add(audio);},stopAllButtons:function(){oggPlayer.allButtons.trigger('pause');},isValid:function(url){if(url===undefined)return false;url=url.replace(/\?.*$/,'');if(url.search(/(?:https?:)?(?:\/\/)(?:images|img|static|vignette)\d*\.wikia\.(?:nocookie\.)?(?:net|com)/)<0&&url.search(/(?:https?:)?(?:\/\/)upload\.wikimedia\.org/)<0)return false;url=url.replace(/(vignette.*?)(\/revision.*$)/,'$1');if(url.search(/\.(ogg|oga|ogv)$/)<0)return false;return true;},video:function(player,url,width,height){if(!url)return;var a=player.find('a.image');player.addClass('ogg-video-player').data('url',url).empty().append($('<video />',{controls:'controls',width:width,height:height,src:url,preload:'metadata'}).click(function(){this.paused?this.play():this.pause();}).dblclick(function(){if(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled){if(
document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement){if(document.exitFullscreen){document.exitFullscreen();}else if(document.webkitExitFullscreen){document.webkitExitFullscreen();}else if(document.mozCancelFullScreen){document.mozCancelFullScreen();}else if(document.msExitFullscreen){document.msExitFullscreen();}}else{if(this.requestFullscreen){this.requestFullscreen();}else if(this.webkitRequestFullscreen){this.webkitRequestFullscreen();}else if(this.mozRequestFullScreen){this.mozRequestFullScreen();}else if(this.msRequestFullscreen){this.msRequestFullscreen();}}}})).append($('<a></a>').addClass('info-icon').attr({href:a.attr('href'),title:a.attr('title')}));},audio:function(player,url,width){if(!url)return;var a=player.find('a.image');player.addClass('ogg-audio-player').data('url',url).empty().append($('<audio />',{controls:'controls',src:url,preload:'metadata'}).css('width',width)).append($('<a></a>').addClass(
'info-icon').attr({href:a.attr('href'),title:a.attr('title')}));}};$(oggPlayer.init);}mw.hook('dev.i18n').add(function(i18n){i18n.loadMessages('OggPlayer').then(init);});importArticle({type:'script',article:'u:dev:MediaWiki:I18n-js/code.js'});})();;window.BackToTopModern=!0;importArticle({type:'script',article:'u:dev:MediaWiki:BackToTopButton/code.js'});;require(['jquery','mw'],function($,mw){'use strict';var config=mw.config.get(['wgCanonicalSpecialPageName','wgNamespaceNumber']);var isWhatLinksHere=config.wgCanonicalSpecialPageName==='Whatlinkshere';var isFilePage=config.wgNamespaceNumber===6;var i18n;if(window.WLHEditLinksLoaded||!(isWhatLinksHere||isFilePage)){return;}window.WLHEditLinksLoaded=!0;function addEditLinks(selector,className){$(selector).each(function(){var $elem=$(this);$('<span>',{class:className}).before(' ').append('(').append($('<a/>',{text:i18n.msg('edit-link-label').plain(),href:new mw.Uri($elem.attr('href')).extend({action:'edit'}).toString()})).append(')').
insertAfter($elem);});}function addEditLinksToWhatLinksHere(){var selector='#mw-whatlinkshere-list li a:not([title="Special:WhatLinksHere"]):not([title*="Thread:"]):not([title*="Message Wall:"]):not([title*="Board:"])';var className='mw-whatlinkshere-edit';addEditLinks(selector,className);}function addEditLinksToFilePages(){var selector='.grid-3 a';var className='mw-imagepage-section-linkstoimage-edit';addEditLinks(selector,className);var pageListContent=document.querySelector('.page-list-content');var observer=new MutationObserver(function(mutations){mutations.forEach(function(mutation){mutation.removedNodes.forEach(function(node){if($(node).hasClass('wikiaThrobber')){addEditLinks(selector,className);}});});});if(pageListContent){observer.observe(pageListContent,{childList:!0});}}mw.hook('dev.i18n').add(function(i18nObject){i18nObject.loadMessages('WLHEditLinks').done(function(messages){i18n=messages;if(isWhatLinksHere){addEditLinksToWhatLinksHere();}if(isFilePage){
addEditLinksToFilePages();}});});importArticles({type:'script',articles:['u:dev:MediaWiki:I18n-js/code.js']});});;(function(){if(window.PurgeButtonLoaded){return;}window.PurgeButtonLoaded=!0;function callback(){window.location.reload(true);}function click(){$(this).html($('<img>',{src:'https://images.wikia.nocookie.net/dev/images/4/42/Loading.gif'}));$.get(new mw.Uri().extend({action:'purge'}),callback);}function init(text){$(['.UserProfileActionButton .wikia-menu-button .WikiaMenuElement','.page-header__contribution-buttons .wds-list'].join(',')).first().append($('<li>').append($('<a>',{id:'ca-purge',click:click,href:'#',text:text})));}function hook2(i18n){init(i18n.msg('purge').plain());}function hook1(i18no){i18no.loadMessages('PurgeButton').then(hook2);}if(typeof window.PurgeButtonText==='string'){init(window.PurgeButtonText);}else{importArticle({type:'script',article:'u:dev:MediaWiki:I18n-js/code.js'});mw.hook('dev.i18n').add(hook1);}})();;importArticle({type:'script',article:
'u:dev:MediaWiki:AjaxRC.js'});;(function(){if(window.Discord&&Discord.init)return;window.Discord=$.extend({$rail:$('#WikiaRail'),loaded:7,onload:function(type,arg){switch(type){case'i18n':arg.loadMessages('Discord').then(this.onload.bind(this,'lang'));break;case'lang':this.i18n=arg;break;case'api':this.api=new mw.Api();this.getMessages();break;}if(--this.loaded)return;this.init();},requests:{},defaults:{theme:'light',roles:{}},messages:{},getMessages:function(){this.api.get({action:'query',list:'allpages',apnamespace:8,apprefix:'Custom-Discord-',aplimit:'max'}).then(this.onPagesLoaded.bind(this)).then(this.handleMessages.bind(this));},onPagesLoaded:function(data){var first=data.query.allpages[0],index=first?first.title.indexOf(':')+1:null,allpages=data.query.allpages.map(function(page){return page.title.slice(index);});return this.api.get({action:'query',meta:'allmessages',amlang:mw.config.get('wgUserLanguage'),ammessages:allpages.join('|')});},handleMessages:function(data){window.dev=
window.dev||{};dev.i18n=dev.i18n||{};dev.i18n.overrides=dev.i18n.overrides||{};dev.i18n.overrides.Discord=dev.i18n.overrides.Discord||{};if(data.query){for(var i in data.query.allmessages){var message=data.query.allmessages[i],title=message.name.slice('Custom-Discord-'.length),content=message['*'];if(message.missing==='')continue;if(title.indexOf('-')!=-1){var split=title.split('-'),key=split.pop();title=split[0];this.messages[title]=this.messages[title]||{};this.messages[title][key]=content;}else{this.messages[title]=this.messages[title]||content;dev.i18n.overrides.Discord[title]=dev.i18n.overrides.Discord[title]||content;}delete this.defaults[title];}}for(var key in this.defaults){var value=this.defaults[key];if(!this.messages[key]){if(value instanceof Error){console.error(value);return;}this.messages[key]=value;}}this.onload('messages');},fetchWidgetData:function(id){if(this.requests[id])return this.requests[id];this.requests[id]=$.getJSON('https://discordapp.com/api/guilds/'+id+
'/widget.json');return this.requests[id];},handleWidgetData:function(data){this.railWidgetData=data;this.addToRail();},mapMessages:function(){for(var key in this.messages.roles){var value=this.messages.roles[key];this.messages.roles[key]=value.match(/\d+/g);}},logo:function(){return{type:'svg',attr:{viewBox:'0 0 28 20',height:'18',width:'18'},children:[{type:'path',attr:{d:
'm20.6644 20s-0.863-1.0238-1.5822-1.9286c3.1404-0.8809 4.339-2.8333 4.339-2.8333-0.9828 0.6429-1.9178 1.0953-2.7568 1.4048-1.1986 0.5-2.3493 0.8333-3.476 1.0238-2.3014 0.4286-4.411 0.3095-6.2089-0.0238-1.36649-0.2619-2.54114-0.6429-3.52402-1.0238-0.55137-0.2143-1.15069-0.4762-1.75-0.8095-0.07192-0.0477-0.14384-0.0715-0.21575-0.1191-0.04795-0.0238-0.07192-0.0476-0.09589-0.0714-0.43151-0.2381-0.67124-0.4048-0.67124-0.4048s1.15069 1.9048 4.19521 2.8095c-0.71918 0.9048-1.60617 1.9762-1.60617 1.9762-5.29794-0.1667-7.31164-3.619-7.31164-3.619 0-7.6666 3.45205-13.8808 3.45205-13.8808 3.45206-2.5714 6.73635-2.49997 6.73635-2.49997l0.2397 0.285711c-4.31509 1.23808-6.30481 3.11902-6.30481 3.11902s0.52739-0.28572 1.41438-0.69047c2.56507-1.11904 4.60273-1.42856 5.44183-1.49999 0.1438-0.02381 0.2637-0.04762 0.4075-0.04762 1.4623-0.190471 3.1164-0.23809 4.8425-0.04762 2.2773 0.26191 4.7226 0.92857 7.2157 2.2857 0 0-1.8938-1.7857-5.9692-3.02378l0.3356-0.380948s3.2843-0.0714279 6.7363 2.49997c0 0 3.4521 6.21423 3.4521 13.8808 0 0-2.0377 3.4523-7.3356 3.619zm-11.1473-11.1189c-1.36644 0-2.4452 1.19044-2.4452 2.64284s1.10274 2.6428 2.4452 2.6428c1.36648 0 2.44518-1.1904 2.44518-2.6428 0.024-1.4524-1.0787-2.64284-2.44518-2.64284zm8.74998 0c-1.3664 0-2.4452 1.19044-2.4452 2.64284s1.1028 2.6428 2.4452 2.6428c1.3665 0 2.4452-1.1904 2.4452-2.6428s-1.0787-2.64284-2.4452-2.64284z'
,}}]};},avatar:function(member,ext,size){if(!member.avatar)return member.avatar_url;return'https://cdn.discordapp.com/avatars/'+member.id+'/'+member.avatar+'.'+ext+'?size='+size;},getRandomId:function(prefix,i){var charset='1234567890abcdef',len=charset.length;while(i--){prefix+=charset[Math.floor(Math.random()*len)];}return prefix;},buildWidget:function(data){return dev.ui({children:[this.buildTitle(data),{type:'div',classes:['discord-widget-container'],attr:{id:this.getRandomId('discord-widget-',64)},style:data.size||{},children:[{type:'div',classes:['discord-widget'],children:[{type:'div',classes:['widget','widget-theme-'+(data.theme||this.messages.theme)],children:[this.buildHeader(data),this.buildBody(data),this.buildFooter(data)]}]}]}]});},buildTitle:function(data){return{type:'div',classes:['title-container'],condition:data.header!='0',children:[{type:'h2',classes:['title','has-icon'],children:[this.logo(),{type:'span',html:this.i18n.msg('header',data.name).parse()}]}]};},
buildHeader:function(data){return{type:'div',classes:['widget-header'],children:[{type:'a',classes:['widget-logo'],attr:{href:'https://discordapp.com/?utm_source=Discord%20Widget&utm_medium=Logo',target:'_blank'}},{type:'span',classes:['widget-header-count'],condition:data.members,html:this.i18n.msg('online',data.members&&data.members.length).parse()}]}},buildBody:function(data){var roles=data.members?this.groupMemberRoles(data.members):null;return{type:'div',classes:['widget-body'].concat(data.members?[]:['body-loading']),children:data.members?roles.map(this.buildRoleContainer.bind(this,data)):[]};},buildRoleContainer:function(data,role){var name=role[0],members=role[1],defaultRole=role[2];return{type:'div',classes:['widget-role-container'],attr:{'data-name':name},condition:members.length,children:[{type:'div',classes:['widget-role-name'],attr:$.extend({'data-name':name},defaultRole?{'data-default':'true'}:{}),html:name}].concat(members.map(this.buildUserChip.bind(this,data)))};},
buildUserChip:function(data,member){return{type:'div',classes:['widget-member'],children:[{type:'div',classes:['widget-member-avatar'],children:[{type:'img',classes:['widget-member-avatar-img'],attr:{src:this.avatar(member,'jpg',64)}},{type:'span',classes:['widget-member-status','widget-member-status-'+member.status]}]},{type:'span',classes:['widget-member-name'],text:member.nick||member.username}],events:{click:this.showMemberModal.bind(this,data,member)}};},buildFooter:function(data){return{type:'div',classes:['widget-footer'],children:[{type:'span',classes:['widget-footer-info'],html:this.i18n.msg('footer',this.messages.guidelines).parse(),condition:this.messages.guidelines||this.messages.footer},{type:'a',classes:['widget-btn-connect'],condition:data.invite||this.messages.invite||data.instant_invite,attr:{href:data.invite||this.messages.invite||data.instant_invite,target:'_blank'},html:this.i18n.msg('join').parse()}]};},groupMemberRoles:function(members){var grouped=[],indices={},
defaultRole=this.i18n.msg('users').plain(),roles=Object.keys(this.messages.roles);members.sort(function(a,b){return(a.nick||a.username).localeCompare(b.nick||b.username);});if(this.messages.order){var order=this.messages.order.split(',').map(function(name){return name.trim();});roles.sort(function(a,b){var aIndex=order.indexOf(a);if(aIndex==-1)return 1;var bIndex=order.indexOf(b);if(bIndex==-1)return-1;return aIndex-bIndex;});}for(var i in roles){var role=roles[i];indices[role]=grouped.push([role,[]])-1;}indices[defaultRole]=grouped.push([defaultRole,[],true])-1;for(var i in members){var member=members[i],assigned=!1;for(var role in this.messages.roles){var ids=this.messages.roles[role];if(ids.includes(member.id)){grouped[indices[role]][1].push(member);assigned=!0;break;}}if(!assigned){grouped[indices[defaultRole]][1].push(member);}}return grouped;},showMemberModal:function(data,member){var game=member.game||{};$.showCustomModal(member.nick||member.username,dev.ui({type:'div',
classes:['discord-member-modal-content'],children:[{type:'div',classes:['avatar-container','loading'],children:[{type:'a',classes:['avatar-link'],attr:{href:this.avatar(member,'png',2048),target:'_blank'},children:[{type:'img',classes:['avatar'],attr:{src:this.avatar(member,'jpg',256)},events:{load:function(){this.parentElement.parentElement.classList.remove('loading');}}}]}]},{type:'div',classes:['details'],children:[{type:'div',classes:['username'],children:[{type:'span',classes:['name'],text:member.username},{type:'span',classes:['discriminator'],text:'#'+member.discriminator}]},{type:'div',classes:['playing'],html:this.i18n.msg(game.name=='Spotify'?'listening':'playing',game.name).parse(),condition:game.name}]}]}),{id:'discord-member-modal',width:'invalid so that the CSS can take over lol',callback:function($modal){$modal.addClass('discord-member-modal-theme-'+(data.theme||this.messages.theme));}.bind(this)});},addToRail:function(data){if(!this.$rail.exists())return;$(
'.discord-module').remove();if(!this.railWidgetData){this.fetchWidgetData(this.messages.id).then(this.handleWidgetData.bind(this));}var widget=this.buildWidget(this.railWidgetData||{}),railModule=dev.ui({type:'section',classes:['rail-module','discord-module'],children:[widget]}),$ads=$('#top-right-boxad-wrapper, #NATIVE_TABOOLA_RAIL').last(),$jsrt=$('.content-review-module');if($ads.exists()){$ads.after(railModule);}else if($jsrt.exists()){$jsrt.after(railModule);}else{this.$rail.prepend(railModule);}this.onRenderedWidget(railModule);mw.hook('Discord.widget.rail').fire(railModule);},replaceWidget:function(_,elem){var id=elem.getAttribute('data-id')||this.messages.id,theme=elem.getAttribute('data-theme')||this.messages.theme,width=elem.getAttribute('data-width'),height=elem.getAttribute('data-height'),invite=elem.getAttribute('data-invite'),header=elem.getAttribute('data-header');if(!id)return;this.fetchWidgetData(id).then(function(data){data.theme=theme;data.size={};if(width){data.size
.width=width;}if(height){data.size.height=height;}if(invite){data.invite=invite;}else{data.invite=data.instant_invite;}if(header){data.header=header;}var widget=this.buildWidget(data);$(elem).empty().append(widget);this.onRenderedWidget(elem);}.bind(this));},onRenderedWidget:function(widget){var container=widget.querySelector('.discord-widget-container'),discord=container.querySelector('.discord-widget'),body=discord.querySelector('.widget-body'),largest=Array.from(body.children).sort(this.sortRoleContainers.bind(this))[0];if(!largest)return;var members=largest.querySelectorAll('.widget-member'),initial=members[0].offsetTop,count=0;for(var i=0;i<members.length;i++){if(members[i].offsetTop>initial)break;count++;}discord.classList.add('resolved-columns');this.addCSS(this.createNameDirectionStyles(count,container.id));mw.hook('Discord.widget').fire(widget);},sortRoleContainers:function(a,b){return b.children.length-a.children.length;},addCSS:function(styles){mw.util.addCSS(styles);},
createNameDirectionStyles:function(count,id){var half=Math.floor(count/2),i=half,selectors=[];while(i--){selectors.push(this.createDirectionSelector(count,id,i-half+2));}return selectors.join(',\n')+'{\n\tpadding: 0 32px 0 8px;\n\tright: 4px;\n}';},createDirectionSelector:function(count,id,half){var n=half==0?'':half>0?'+'+half:'-'+Math.abs(half);return'#'+id+' .widget-member:nth-child('+count+'n'+n+') .widget-member-name';},replaceWidgets:function($container){$container.find('.DiscordWidget').each(this.replaceWidget.bind(this));},getHeight:function(elem){var style=getComputedStyle(elem);return elem.clientHeight+parseInt(style.marginTop)+parseInt(style.marginBottom);},reflow:function(elem,columns,force){if(this.reflowing){this.reflowing=!1;if(!force){return;}}this.reflowing=!0;var full=0,sum=0,overhead=5,children=elem.children,i=children.length;elem.style.maxHeight='';if(innerWidth>1023)return;while(i--){full+=this.getHeight(children[i]);}var partition=full/columns;for(var i=0;i<
children.length;i++){sum+=this.getHeight(children[i]);if(sum>partition){break;}}elem.style.maxHeight=(sum+overhead)+'px';},patchStupidRail:function(){if(!this.$rail||!window.MutationObserver||navigator.maxTouchPoints===0)return;var rail=this.$rail.get(0);rail.parentElement.style.columnCount='auto';rail.style.display='flex';rail.style.flexDirection='column';rail.style.flexWrap='wrap';this.reflow(rail,2,true);new MutationObserver(this.reflow.bind(this,rail,2,false)).observe(rail,{childList:!0,subtree:!0,attributes:!0});},init:function(){this.mapMessages();if(this.messages.id){this.addToRail();}this.replaceWidgets(mw.util.$content);mw.hook('wikipage.content').add(this.replaceWidgets.bind(this));this.patchStupidRail();}},window.Discord);if(!Discord.$rail.exists()||Discord.$rail.hasClass('loaded')){Discord.onload();}else{Discord.$rail.on('afterLoad.rail',Discord.onload.bind(Discord));}mw.hook('dev.ui').add(Discord.onload.bind(Discord));mw.hook('dev.i18n').add(Discord.onload.bind(
Discord,'i18n'));mw.loader.using('mediawiki.api').then(Discord.onload.bind(Discord,'api'));importArticles({type:'script',articles:['u:dev:MediaWiki:I18n-js/code.js','u:dev:MediaWiki:UI-js/code.js']});var style=importArticle({type:'style',article:'u:dev:MediaWiki:Discord.css'})[0];if(style){style.onload=Discord.onload.bind(Discord);}else{Discord.onload();}})();;;(function(window,$,mw){'use strict';var username=mw.config.get('wgUserName');if(window.disableUsernameReplace||!username){return;}window.disableUsernameReplace=!0;var $rail=$('#WikiaRail'),customSelector=window.UsernameReplaceSelector?', '+window.UsernameReplaceSelector:'';function inputUsername($content){$content.find('.InputUsername, .insertusername'+customSelector).text(username);}mw.hook('wikipage.content').add(inputUsername);if($rail.hasClass('loaded')){inputUsername($rail);}else if($rail.exists()){$rail.on('afterLoad.rail',$.proxy(inputUsername,null,$rail));}})(window,jQuery,mediaWiki);;require(['wikia.window','jquery',
'mw'],function(window,$,mw){var config=mw.config.get(['wgScriptPath','wgCanonicalSpecialPageName']);if(config.wgCanonicalSpecialPageName!=='Community'||$('#wiki-manager-module').length){return;}function wikiManagerModule(wds,i18n){var api=new mw.Api();api.get({action:'query',meta:'allmessages',ammessages:'custom-Wiki_Manager'}).done(function(r,s){if(s!=='success'||!r.query){return;}api.get({action:'query',list:'users',ususers:r.query.allmessages[0]['*'],usprop:'groups'}).done(function(r,s){if(s!=='success'||!r.query){return;}var user=r.query.users[0];$.getJSON(config.wgScriptPath+'/api/v1/User/Details',{ids:user.userid,size:50}).done(function(r,s){if(s!=='success'||!r.items){return;}var user2=r.items[0],badge=user.groups.includes('staff')?'staff':user.groups.includes('helper')?'helper':undefined;if(badge){badge={badgeText:badge,badgeMarkup:wds.badge(badge,{width:18}).outerHTML};}require(['wikia.mustache','communitypage.templates.mustache'],function(mustache,templates){$(mustache.render
(templates.adminsModule,{topAdminsData:{topAdminsHeaderText:i18n.msg('wiki-manager').plain(),topAdminsList:[{avatar:'<img src="'+user2.avatar+'">',badge:badge,profilePage:user2.url,userName:user.name}],adminsText:'<a href="https://community.fandom.com/wiki/Help:Wiki_Managers">'+i18n.msg('wiki-manager_desc').escape()+'</a>'}},{topAdmins:templates.topAdmins.replace(/([^{]){{adminsText}}([^}])/,'$1{{{adminsText}}}$2')})).attr('id','wiki-manager-module').insertAfter('.community-page-admins-module');});});});});}$.when(new $.Deferred(function(deferred){if(window.dev&&window.dev.wds){deferred.resolve(window.dev.wds);}else{mw.hook('dev.wds').add(function(wds){deferred.resolve(wds);});importArticle({type:'script',article:'u:dev:MediaWiki:WDSIcons/code.js'});}}),new $.Deferred(function(deferred){if(window.dev&&window.dev.i18n){window.dev.i18n.loadMessages('WikiManager_Nameplate').done(deferred.resolve);}else{mw.hook('dev.i18n').add(function(i18n){i18n.loadMessages('WikiManager_Nameplate').done(
deferred.resolve);});importArticle({type:'script',article:'u:dev:MediaWiki:I18n-js/code.js'});}}),mw.loader.using(['mediawiki.api','mediawiki.util'])).done(wikiManagerModule);});;require(['jquery','mw','wikia.window'],function($,mw,window){if(mw.config.get('wgUserName')||$('#MyStory').exists()||window.myStoryLoaded){return;}window.myStoryLoaded=!0;importArticles({type:'style',articles:['u:dev:MediaWiki:FandomIcons.css','u:dev:MediaWiki:MyStory.css']});$.ajax({url:'https://dev.fandom.com/api.php',data:{action:'query',meta:'allmessages',ammessages:'Custom-MyStory',format:'json'},dataType:'jsonp',success:function(data){var myStory=JSON.parse(data.query.allmessages[0]["*"]);var _keys=Object.keys(myStory);window.myStoryUser=_keys[Math.floor(Math.random()*_keys.length)];window.myStoryMessage=myStory[window.myStoryUser];$.getJSON('/api/v1/User/Details/avatar',{ids:window.myStoryUser,size:50}).then(function(data){window.myStoryAvatar=data.items[0].avatar;$('<section>',{'class':'rail-module',
id:'mystory'}).append($('<h2>',{text:'My Fandom Story'}).prepend($('<span>',{'class':'fandom-icons',text:'💙'})),$('<div>',{'class':'wds-avatar',title:window.myStoryUser}).prepend($('<img>',{src:window.myStoryAvatar,alt:window.myStoryUser,'class':'wds-avatar__image'})),$('<div>').append($('<a>',{href:'https://community.fandom.com/wiki/User:'+window.myStoryUser,'class':'wds-midlight-aqua',text:window.myStoryUser.replace(/_/g,' ')})),$('<div>',{'class':'mystory--content'}).append(document.createTextNode(window.myStoryMessage),$('<div>',{'class':'mystory--link'}).append($('<a>',{href:'https://bit.ly/fandom-signin',html:'Create an account to start<br />your experience today!'})))).prependTo('#WikiaRail');});}});});;require(['wikia.window','jquery','mw','wikia.loader','wikia.mustache','wikia.throbber','wikia.ui.factory'],function(window,$,mw,loader,mustache,throbber,uiFactory){if(window.CommunityFocusModulesLoaded){return;}window.CommunityFocusModulesLoaded=!0;var api,config=mw.config.
get(['wgCanonicalSpecialPageName','wgFormattedNamespaces','wgNamespaceIds']),nsCategoryPrefix=config.wgFormattedNamespaces[config.wgNamespaceIds.category]+':',nsSpecialPrefix=config.wgFormattedNamespaces[config.wgNamespaceIds.special]+':';function communityPageModule(id,options){return new $.Deferred(function(deferred){require(['communitypage.templates.mustache'],function(templates){deferred.resolve($(mustache.render(templates.cardModule,options)).attr('id',id.replace(/\W+/g,'_')));});});}function FocusCategory(data){this.title=data.title;this.cardTitle=data.cardTitle||data.title;this.cardDescription=data.cardDescription;this.focusArticle=data.focusArticle;this.railDescription=data.railDescription||'We need more $1 info!';this.railButton=data.railButton||'Help add it';this.modal=null;this.members=null;}FocusCategory.prototype.getUrl=function(){return mw.util.getUrl(this.title);};FocusCategory.prototype.getMembers=function(gcmcontinue){var self=this;function internalGetMembers(deferred)
{if(self.members&&!gcmcontinue){deferred.resolve(self.members);}api.get({action:'query',prop:'revisions',generator:'categorymembers',rvprop:'timestamp',gcmtitle:nsCategoryPrefix+self.title,gcmtype:'page',gcmlimit:'max',gcmcontinue:gcmcontinue,list:'categorymembers',cmtitle:nsCategoryPrefix+self.title,cmtype:'subcat',cmprop:'title',cmlimit:'max'}).done(function(r,s){if(s!=='success'||!r.query){deferred.resolve([]);return;}var out=[];if(r.query.pages){Object.values(r.query.pages).forEach(function(e){var date=new Date(e.revisions[0].timestamp);out.push({id:e.pageid,link:{editlink:mw.util.getUrl(e.title),text:e.title},timestamp:date.getTime(),timeAgo:$.timeago(date),exists:!0});});}$.when(new $.Deferred(function(deferred){if(r['query-continue']){self.getMembers(r['query-continue'].categorymembers.gcmcontinue).done(function(members){out=out.concat(members);deferred.resolve();});}else{deferred.resolve();}}),new $.Deferred(function(deferred){subdeferreds=[];r.query.categorymembers.forEach(
function(e){subdeferreds.push(new FocusCategory({title:e.title.replace(nsCategoryPrefix,'')}).getMembers().done(function(members){out=out.concat(members);}));});$.when.apply(undefined,subdeferreds).done(deferred.resolve);})).done(function(){self.members=out.sort(function(a,b){return a.timestamp-b.timestamp;}).filter(function(e,i,a){return i+1==a.length||e.id!==a[i+1].id;});deferred.resolve(self.members);});});}if(gcmcontinue){return new $.Deferred(internalGetMembers);}if(!self.__getMembersDeferred){self.__getMembersDeferred=new $.Deferred(internalGetMembers).done(function(){self.__getMembersDeferred=undefined;});}return self.__getMembersDeferred;};FocusCategory.prototype.getFeaturedMembers=function(){var self=this;return new $.Deferred(function(deferred){self.getMembers().done(function(members){deferred.resolve(members.slice(0,3));});});};FocusCategory.prototype.createCommunityPageCard=function(modal){var self=this;function internalCreateCommunityPageCard(fmembers){if((!fmembers||!
fmembers.length)&&!self.cardDescription){return;}communityPageModule('focus-'+self.title,{title:self.cardTitle,icon:'other',pages:fmembers,description:self.cardDescription,fulllistlink:self.getUrl(),cardModules:{messages:{fulllist:mw.message('communitypage-full-list').plain()}}}).done(function($module){$module.appendTo('.community-page-cards-module-block');var $fulllist=$module.find('a.community-page-card-module-full-list-link');if(modal){$fulllist.on('click',$.proxy(self.triggerFocusModal,self,'modal-from-card'));}else{$fulllist.on('click',function(e){ga('send','event',{eventCategory:'focus-module',eventAction:'from-maintenance-card',eventLabel:e.target.href,transport:'beacon'});});}$module.find('.community-page-card-module-article-data > a').on('click',function(e){ga('send','event',{eventCategory:'focus-module',eventAction:'article-link-from-card',eventLabel:e.target.href,transport:'beacon'});});});}if(self.cardDescription){internalCreateCommunityPageCard();}else{self.
getFeaturedMembers().done(internalCreateCommunityPageCard);}};FocusCategory.prototype.createRailModule=function(){var self=this,fakemsg=new mw.Map();fakemsg.set('d',self.railDescription);$('.community-page-rail-module').append($('<div>',{class:'content',id:'focus-widget-'+self.title.replace(/\W+/g,'_')}).append($('<div>',{class:'description',html:new mw.Message(fakemsg,'d',['<a href="'+self.getUrl()+'">'+self.cardTitle+'</a>']).parse()}),$('<a>',{class:'wds-button wds-is-secondary',href:mw.util.getUrl('Special:Community')+'#focus-'+self.title.replace(/\W+/g,'_'),text:self.railButton}).on('click',$.proxy(self.triggerFocusModal,self,'rail-module-cta-button'))));};FocusCategory.prototype.getFocusArticleData=function(){var self=this;return new $.Deferred(function(deferred){var out={subtitle:'',sections:[]};if(!self.focusArticle){deferred.resolve(out);return;}api.get({action:'parse',page:self.focusArticle,props:['sections','text']}).done(function(r,s){if(s!=='success'||!r.parse){deferred.
resolve(out);return;}var subtitle=r.parse.text['*'].match(/<p [^>]*id="focus-modal-subtitle"[^>]*>(.*?)<\/p>/);if(subtitle&&subtitle[1]){out.subtitle=subtitle[1];}var subdeferreds=[];r.parse.sections.forEach(function(e){subdeferreds.push(new $.Deferred(function(subdeferred){$.when(api.get({action:'parse',page:self.focusArticle,props:'links',section:e.number}),self.getMembers()).done(function(r2,members){if(r2[1]!=='success'||!r2[0].parse){subdeferred.resolve();return;}var pages=[],missingdates={},lastedited=!1;r2[0].parse.links.forEach(function(e){if(e.hasOwnProperty('exists')){var m=members.find(function(e2){return e['*']===e2.link.text;});lastedited=!0;if(m){pages.push(m);return;}else{missingdates[e['*']]=pages.length;}}pages.push({link:{editlink:mw.util.getUrl(e['*']),text:e['*']},exists:e.hasOwnProperty('exists'),timestamp:undefined,timeAgo:undefined,});});new $.Deferred(function(subsubdeferred){var missingdatesKeys=Object.keys(missingdates);if(!missingdatesKeys.length){
subsubdeferred.resolve();return;}api.get({action:'query',prop:'revisions',rvprop:'timestamp',titles:missingdatesKeys.join('|')}).done(function(r3,s3){if(s3==='success'&&r3.query){Object.values(r3.query.pages).forEach(function(e){var date=new Date(e.revisions[0].timestamp),entry=pages[missingdates[e.title]];entry.timestamp=date.getTime();entry.timeAgo=$.timeago(date);});}subsubdeferred.resolve();});}).done(function(){if(pages.length){pages.sort(function(a,b){if(a.exists&&!b.exists){return 1;}if(!a.exists&&b.exists){return-1;}return a.timestamp-b.timestamp;});out.sections[e.number]={id:e.anchor,title:e.line,count:pages.length,items:pages,lastedited:lastedited};}subdeferred.resolve();});})}));});$.when.apply(undefined,subdeferreds).then(function(){deferred.resolve(out);});});});};FocusCategory.prototype.triggerFocusModal=function(a,e){e.preventDefault();ga('send','event',{eventCategory:'focus-module',eventAction:a,eventLabel:nsCategoryPrefix+this.title});if(!this.modal){this.
createFocusModal();}else{$(document.body).append(this.modal.$blackout);this.showFocusModal();}}
FocusCategory.prototype.createFocusModal=function(){var self=this;$.when(new $.Deferred(function(deferred){uiFactory.init('modal').done(function(uiModal){uiModal.createComponent({vars:{id:'focus-modal-'+self.title.replace(/\W+/g,'_'),classes:['CommunityPageModalDialog'],content:'<div class="throbber-placeholder"></div>',title:self.cardTitle,size:'medium'}},function(modal){throbber.show($('.throbber-placeholder'));modal.show();deferred.resolve(modal);});})}),self.getMembers(),self.getFocusArticleData(),loader({type:loader.SCSS,resources:['/extensions/wikia/CommunityPage/styles/components/_contributors-module.scss','/extensions/wikia/CommunityPage/styles/components/_modal.scss']})).done(function(modal,pages,data){self.modal=modal;data.sections.unshift({id:'all',title:'All',count:pages.length,items:pages,active:!0,lastedited:!0});var $header=self.modal.$element.children('header');$header.html(mustache.render('<h3>{{title}}</h3>{{{subtitle}}}'+'<ul class="reset modal-nav">'+'{{#tabs}}'
+'<li>'+'<a class="modal-tab-link{{#active}} active{{/active}}" data-tabtoggle="{{id}}" href="#">{{title}} {{#count}}<span id="allCount">({{count}})</span>{{/count}}</a>'+'</li>'+'{{/tabs}}'+'</ul>',{title:self.cardTitle,subtitle:data.subtitle,tabs:data.sections}),true).prepend(self.modal.$close);self.modal.$content.html(mustache.render('{{#tabs}}'+'<div class="contributors-module contributors-module-modal" data-tabid="{{id}}"{{^active}} style="display:none"{{/active}}>'+'{{#lastedited}}<div class="community-page-all-contributors-legend">'+mw.message('listusers-edited').escaped()+'</div>{{/lastedited}}'+'<ul class="reset top-contributors">'+'{{#items}}'+'<li class="community-page-contributors-list-item">'+'<a class="community-page-contributor-details{{^exists}} new{{/exists}}" href="{{link.editlink}}">{{link.text}}</a>'+'{{#timeAgo}}<div class="community-page-details">{{timeAgo}}</div>{{/timeAgo}}'+'</li>'+'{{/items}}'+'</ul>'+'</div>'+'{{/tabs}}',{tabs:data.sections}));self.
showFocusModal();});};FocusCategory.prototype.showFocusModal=function(){var self=this;self.modal.$content.addClass('contributors-module contributors-module-modal');self.modal.$element.find('.modal-tab-link').on('click',function(){var $this=$(this);if($this.hasClass('active')){return;}var tab=self.modal.$element.find('.modal-tab-link.active').removeClass('active').data('tabtoggle');self.modal.$content.find('.contributors-module[data-tabid="'+tab+'"]').css('display','none');$this.addClass('active');self.modal.$content.find('.contributors-module[data-tabid="'+$this.data('tabtoggle')+'"]').css('display','');});self.modal.$content.find('.community-page-contributor-details').on('click',function(e){ga('send','event',{eventCategory:'focus-module',eventAction:'article-link-from-modal',eventLabel:e.target.href,transport:'beacon'});});self.modal.show();};function FocusQuerypage(data){FocusCategory.call(this,data);}FocusQuerypage.prototype=Object.create(FocusCategory.prototype);FocusQuerypage.
prototype.getUrl=function(){return mw.util.getUrl(nsSpecialPrefix+this.title);}
FocusQuerypage.prototype.getMembers=function(){var self=this;return new $.Deferred(function(deferred){if(self.members){deferred.resolve(self.members);}api.get({action:'query',list:'querypage',qppage:self.title,qplimit:3}).done(function(r,s){if(s!=='success'||!r.query||!r.query.querypage){deferred.resolve([]);return;}self.members=[];r.query.querypage.results.forEach(function(e){self.members.push({link:{editlink:mw.util.getUrl(e.title),text:e.title},exists:!0});});deferred.resolve(self.members);});});}
function focusModules(){api=new mw.Api();api.get({action:'query',meta:'allmessages',ammessages:'Custom-Focus|Custom-Maintenance|communitypage-full-list|listusers-edited'}).done(function(r,s){if(s!=='success'||!r.query){return;}mw.messages.set({'communitypage-full-list':r.query.allmessages[2]['*'],'listusers-edited':r.query.allmessages[3]['*']});if(r.query.allmessages[0]['*']){var categories={},lines=r.query.allmessages[0]['*'].split('\n');for(var i=0;i<lines.length;++i){var e=lines[i];if(e.startsWith('*')){var category={title:e.replace(/^\*\s*/,'')};for(++i;i<lines.length&&lines[i].startsWith('**');++i){var line=lines[i].replace(/^\*\*\s*/,'').split('|');if(line.length>=2){category[line.shift().trim()]=line.join('|').trim();}}if(i<lines.length-1){--i;}categories[nsCategoryPrefix+category.title]=new FocusCategory(category);}else{var line=e.split('|');if(line.length!==2&&line.length!==3){continue;}line[0]=line[0].trim();categories[nsCategoryPrefix+line[0]]=new FocusCategory({title:line[0
],cardTitle:line[1]?line[1].trim():undefined,focusArticle:line[2]?line[2].trim():undefined});}}var $wikiaRail=$('#WikiaRail');api.get({action:'query',prop:'categoryinfo',titles:Object.keys(categories).join('|')}).done(function(r,s){if(s!=='success'||!r.query){return;}Object.values(r.query.pages).forEach(function(e){if(e.hasOwnProperty('categoryinfo')){var categoryTitle=e.title;if(r.query.normalized){var normalized=r.query.normalized.find(function(e2){return e2.to===e.title;});if(normalized){categoryTitle=normalized.from;}}var category=categories[categoryTitle];if(config.wgCanonicalSpecialPageName==='Community'){category.createCommunityPageCard(true);}else{if($wikiaRail.length){if($wikiaRail.hasClass('loaded')){category.createRailModule();}else{$wikiaRail.on('afterLoad.rail',$.proxy(category.createRailModule,category));}}}}});});}if(r.query.allmessages[1]['*']&&config.wgCanonicalSpecialPageName==='Community'){var categories2={},querypages=[],lines=r.query.allmessages[1]['*'].split('\n')
,categoryRegExp=new RegExp('^(?:'+nsCategoryPrefix+'|Category):'),querypageRegExp=new RegExp('^(?:'+nsSpecialPrefix+'|Special):');for(var i=0;i<lines.length;++i){var e=lines[i];var line=e.split('|');if(line.length!==2&&line.length!==3){continue;}line[0]=line[0].trim();if(categoryRegExp.test(line[0])){categories2[line[0]]=new FocusCategory({title:line[0].replace(categoryRegExp,''),cardTitle:line[1]?line[1].trim():undefined,cardDescription:line[2]?line[2].trim():undefined});}else if(querypageRegExp.test(line[0])){querypages.push(new FocusQuerypage({title:line[0].replace(querypageRegExp,''),cardTitle:line[1]?line[1].trim():undefined,cardDescription:line[2]?line[2].trim():undefined}));}}categories2Keys=Object.keys(categories2);if(categories2Keys.length){api.get({action:'query',prop:'categoryinfo',titles:categories2Keys.join('|')}).done(function(r,s){if(s!=='success'||!r.query){return;}Object.values(r.query.pages).forEach(function(e){if(e.hasOwnProperty('categoryinfo')){var categoryTitle=e.
title;if(r.query.normalized){var normalized=r.query.normalized.find(function(e2){return e2.to===e.title;});if(normalized){categoryTitle=normalized.from;}}categories2[categoryTitle].createCommunityPageCard();}});});}querypages.forEach(function(e){e.createCommunityPageCard();});}});}mw.loader.using(['mediawiki.api','mediawiki.util']).done(focusModules);});;require(['wikia.window','jquery','mw','wikia.mustache','wikia.tracker'],function(window,$,mw,mustache,tracker){if(window.userWalkthroughLoaded){return;}window.userWalkthroughLoaded=!0;var UserWalkthroughHints=['.wds-global-navigation__content-bar-left','.wds-global-navigation__search-toggle','.wds-global-navigation__user-menu','#onSiteNotificationsDropdown','#notificationsEntryPoint','.wds-community-header__wordmark','.wds-community-header__wiki-buttons','.wds-community-header__local-navigation','.page-header__contribution-buttons','.page-header__categories-links','.activity-module','.community-page-rail-module','#recirculation-rail'
];var UserWalkthroughStepsMW=[{element:'#editarea'},{element:'#EditPageTabs',position:'bottom'},{element:'#EditPageToolbar',position:'bottom'},{element:'.module_insert',position:'left'},{element:'.module_categories',position:'right'},{element:'.module_templates',position:'right'},{element:'#wpSummaryLabel',position:'left'},{element:'#wpPreviewMobile',position:'bottom'},{element:'#wpPreview',position:'bottom'},{element:'#wpDiff',position:'bottom'},{element:'#wpSave'}];var UserWalkthroughStepsVE=[{element:'.mw-body-content',scrollTo:'tooltip',position:'top'},{element:'.ve-init-mw-viewPageTarget-toolbar>.oo-ui-toolbar-bar>.oo-ui-toolbar-tools',position:'bottom'},{element:'.oo-ui-listToolGroup',position:'bottom'},{element:'.ve-ui-toolbar-saveButton',position:'bottom'}];var TRACKING_CATEGORIES={HINTS:'user-hints',WALKTHROUGH_MW:'user-walkthrough--MW',WALKTHROUGH_VE:'user-walkthrough--VE'};var UserWalkthrough={config:mw.config.get(['wgAction','wgPageName','wgUserLanguage','wgNamespaceNumber'
,'wgVisualEditorPreferred']),load:function(){if(this.config.wgNamespaceNumber!==0||(this.config.wgAction!=='view'&&!(this.config.wgAction==='edit'&&mw.util.getParamValue('walkthrough')==1))){return;}importArticle({type:'style',article:'u:dev:MediaWiki:UserWalkthrough.css'});var self=this;mw.hook('dev.i18n').add(function(i18n){i18n.loadMessages('UserWalkthrough').done($.proxy(self.init,self));});if(!window.dev||!window.dev.i18n){importArticle({type:'script',article:'u:dev:MediaWiki:I18n-js/code.js'});}},init:function(i18n){this.i18n=i18n;if(this.config.wgAction==='view'){this.addRailModule();if(mw.util.getParamValue('veaction')==='edit'&&mw.util.getParamValue('walkthrough')==1){this.addVEHandler();}}else if(this.config.wgAction==='edit'&&mw.util.getParamValue('walkthrough')==1){var we=WikiaEditor.getInstance();if(we.ui.uiReadyFired){this.startIntroMW();}else{we.on('uiReady',$.proxy(this.startIntroMW,this));}}},getIntroJs:function(){var self=this;return new $.Deferred(function(deferred){
if(typeof window.introJs==='function'&&!self.introJs){self.introJs=window.introJs();}if(self.introJs){deferred.resolve(self.introJs);return;}mw.hook('introjs.loaded').add(function(){self.introJs=window.introJs();deferred.resolve(self.introJs);});importArticle({type:'script',article:'u:dev:MediaWiki:UserWalkthrough.js/intro.js'});}).done(function(intro){intro.setOptions({prevLabel:self.i18n.msg('tooltip-prev').parse(),nextLabel:self.i18n.msg('tooltip-next').parse(),skipLabel:self.i18n.msg('tooltip-skip').parse(),doneLabel:self.i18n.msg('tooltip-done').parse(),hintButtonLabel:self.i18n.msg('tooltip-hintconfirm').parse()});});},track:tracker.buildTrackingFunction({trackingMethod:'analytics'}),addRailModule:function(){var self=this;this.track({category:this.config.wgVisualEditorPreferred?TRACKING_CATEGORIES.WALKTHROUGH_VE:TRACKING_CATEGORIES.WALKTHROUGH_MW,action:tracker.ACTIONS.IMPRESSION,});$(mustache.render(
'<section class="rail-module" id="userwalkthrough-module" style="margin-bottom: auto">'+'<div>'+'<h2>{{header}}</h2>'+'<p>{{description}}</p>'+'<a href="{{editHref}}" class="wds-button" id="userwalkthrough-editor">{{editText}}</a>'+'</div>'+'</section>'+'<div class="rail-module">'+'<a href="#" class="wds-button" id="userwalkthrough-hints">{{hintsText}}</a>'+'</div>',{header:this.i18n.msg('railmodule-header').parse(),description:this.i18n.msg('railmodule-description').parse(),editHref:mw.util.getUrl(this.config.wgPageName,this.config.wgVisualEditorPreferred?{veaction:'edit',walkthrough:1}:{action:'edit',walkthrough:1}),editText:this.i18n.msg('railmodule-edit').parse(),hintsText:this.i18n.msg('railmodule-hints').parse()})).prependTo('#WikiaRail');$('#userwalkthrough-hints').on('click',$.proxy(this.addHints,this));$('#userwalkthrough-editor').on('click',function(e){self.track({category:self.config.wgVisualEditorPreferred?TRACKING_CATEGORIES.WALKTHROUGH_VE:TRACKING_CATEGORIES.
WALKTHROUGH_MW,action:tracker.ACTIONS.CLICK_LINK_BUTTON,});if(self.config.wgVisualEditorPreferred){e.preventDefault();self.addVEHandler();$('#ca-ve-edit').trigger('click',e);}});},addVEHandler:function(){var self=this;var veHandler=function(){self.startIntroVE();mw.hook('ve.activationComplete').remove(veHandler);};mw.hook('ve.activationComplete').add(veHandler);},addHints:function(){var self=this;this.getIntroJs().done(function(intro){var hints=[];UserWalkthroughHints.forEach(function(e){var element=document.querySelector(e);if(element){hints.push({element:element,hint:self.i18n.msg('hint-'+e).parse(),hintPosition:'top-middle'});}});intro.setOptions({hints:hints});intro.onhintclick(function(){self.track({category:TRACKING_CATEGORIES.HINTS,action:tracker.ACTIONS.OPEN});});intro.onhintclose(function(){self.track({category:TRACKING_CATEGORIES.HINTS,action:tracker.ACTIONS.CLOSE});});intro.addHints();self.track({category:TRACKING_CATEGORIES.HINTS,action:tracker.ACTIONS.CLICK_LINK_BUTTON,});
});},addIntroTracking:function(intro,category){var self=this;this.track({category:category,action:tracker.ACTIONS.FLOW_START});intro.onchange(function(){self.track({category:category,action:tracker.ACTIONS.FLOW_MID_STEP});});intro.oncomplete(function(){self.track({category:category,action:tracker.ACTIONS.FLOW_END});self.completed=!0;});intro.onexit(function(){$(document.body).removeClass('user-walkthrough');if(!self.completed){self.track({category:category,action:tracker.ACTIONS.CLOSE});}self.completed=!1;});$(document.body).addClass('user-walkthrough');},startIntroMW:function(){var self=this;this.getIntroJs().done(function(intro){var steps=[{intro:self.i18n.msg('intromw-intro').parse()}];$('.editpage-sourcewidemode-on').addClass('editpage-sourcewidemode-off').removeClass('editpage-sourcewidemode-on');UserWalkthroughStepsMW.forEach(function(e){var element=document.querySelector(e.element);if(element&&$(element).is(':visible')){steps.push(Object.assign({},e,{element:element,intro:
self.i18n.msg('intromw-'+e.element).parse()}));}});intro.setOptions({steps:steps,disableInteraction:!0});self.addIntroTracking(intro,TRACKING_CATEGORIES.WALKTHROUGH_MW);intro.start();});},startIntroVE:function(){var self=this;this.getIntroJs().done(function(intro){intro.hideHints();var steps=[{element:document.querySelector('.ve-init-target'),intro:self.i18n.msg('introve-intro').parse(),scrollTo:'tooltip'}];UserWalkthroughStepsVE.forEach(function(e){var element=document.querySelector(e.element);if(element&&$(element).is(':visible')){steps.push(Object.assign({},e,{element:element,intro:self.i18n.msg('introve-'+e.element).parse()}));}});intro.setOptions({steps:steps,disableInteraction:!0});mw.hook('ve.deactivate').add(function(){intro.exit();});intro.start();self.addIntroTracking(intro,TRACKING_CATEGORIES.WALKTHROUGH_VE);$('#userwalkthrough-editor').remove();});}};UserWalkthrough.load();});;require([require.optional('ext.wikia.design-system.loading-spinner'),'jquery','mw',require.
optional('wikia.tracker'),'wikia.window'],function(Spinner,$,mw,tracker,window){if(window.helpPanelLoaded){return;}window.helpPanelLoaded=!0;var HelpPanel={config:mw.config.get(['wgIsEditPage','wgSassParams','wgSiteName','wgUserName']),helpPages:['general-editing-help','infoboxes','adding-images','adding-links','source-editor'],loading:3,preload:function(){if(--this.loading===0){window.dev.i18n.loadMessages('u:dev:MediaWiki:Custom-InEditorHelp/i18n.json').then($.proxy(this.init,this));}},init:function(i18n){this.i18n=i18n;this.addCSS();this.addTracking();this.ipPromise=this.config.wgUserName?$.Deferred().resolve():this.fetchIP();if(this.config.wgIsEditPage){this.initEditor();}else{mw.hook('ve.activationComplete').add($.proxy(this.initEditor,this));mw.hook('ve.deactivationComplete').add($.proxy(this.destroyVisualEditor,this));}},addCSS:function(){var background=$('#EditPage').css('background-color');if(!$('#EditPage').exists()){background=$('.WikiaPage .WikiaPageBackground').css(
'background-color');}mw.util.addCSS('html {'+'--helpPanel-bgcolor:'+background+';'+'--helpPanel-header-bgcolor:'+this.config.wgSassParams['color-header']+';'+'}');},fetchIP:function(){return $.get(mw.util.wikiScript('api'),{action:'query',meta:'userinfo',format:'json'});},togglePanelOpen:function(){$('#helpPanelCTA').hide();$('#helpPanel').toggleClass('hideHelpPanel').toggleClass('showHelpPanel');},togglePanelClose:function(){$('#helpPanel').toggleClass('hideHelpPanel').toggleClass('showHelpPanel');$('#helpPanelCTA').show();},closeNotification:function(){$('#helpPanelCTA').hide();},submitPost:function(){if($('#hp-forum-textarea').val()===''){$('#helpPanel-forum .error-msg').css('display','block');return;}$.ajax({type:'POST',url:'https://'+this.i18n.msg('community-wiki-url').plain()+'/wikia.php?'+$.param({controller:'WallExternal',method:'postNewMessage',format:'jsonp'}),data:{body:$('#hp-forum-textarea').val()+($('#helpPanel-check').attr('checked')==='checked'?('\n\n\n'+new mw.Uri(mw.
util.getUrl()).toString()):''),messagetitle:$('#helpPanel-check').attr('checked')=='checked'?this.i18n.msg('need-help-on',this.config.wgSiteName).plain():this.i18n.msg('need-help').plain(),pagenamespace:2000,pagetitle:this.i18n.msg('forum-board').plain(),token:mw.user.tokens.get('editToken')},xhrFields:{withCredentials:!0},complete:$.proxy(this.checkPost,this)});$('#helpPanel-spinner').addClass('show');$('#helpPanel-forum .error-msg').css('display','none');},checkPost:function(){$.ajax({type:'GET',url:'https://'+this.i18n.msg('community-wiki-url').plain()+'/api.php',data:{action:'query',list:'usercontribs',ucuser:this.config.wgUserName||this.ip,ucnamespace:2001,ucprop:'ids',uclimit:1,format:'json'},dataType:'jsonp',success:$.proxy(this.submittedPost,this),error:$.proxy(this.submittedFail,this)});},submittedPost:function(data){if(data.query.usercontribs.length===0||new Date(data.query.usercontribs[0].timestamp)<new Date()-60*60*1000){return this.submittedFail(data);}$(
'#helpPanel-post-link').attr('href','https://'+this.i18n.msg('community-wiki-url').plain()+'/wiki/Thread:'+data.query.usercontribs[0].pageid);$('#helpPanel-spinner').removeClass('show');$('#hp-step3').addClass('showHP-step').removeClass('hideHP-step');$('#hp-step1, #hp-step2').addClass('hideHP-step').removeClass('showHP-step');},submittedFail:function(data){console.error(data);},toggleStep1:function(){$('#hp-step1').addClass('showHP-step').removeClass('hideHP-step');$('#hp-step2, #hp-step3').addClass('hideHP-step').removeClass('showHP-step');},toggleStep2:function(){$('#hp-step2').addClass('showHP-step').removeClass('hideHP-step');$('#hp-step1, #hp-step3').addClass('hideHP-step').removeClass('showHP-step');},done:function(){$('#hp-forum-textarea').val('');this.toggleStep1();},waitForIP:function(){this.ipPromise.then($.proxy(this.gotIP,this));},gotIP:function(data){if(this.config.wgUserName){$('#helpPanel-post-text').html(this.i18n.msg('ask-intro',this.i18n.msg('username').plain(),this.
config.wgUserName).parse());}else{this.ip=data.query.userinfo.name;$('#helpPanel-post-text').html(this.i18n.msg('ask-intro',this.i18n.msg('ip').plain(),this.ip).parse());}$('#hp-step2').addClass('showHP-step').removeClass('hideHP-step');$('#hp-step1, #hp-step3').addClass('hideHP-step').removeClass('showHP-step');},initEditor:function(){if(!$('#WikiaNotifications').exists()){var notifications=window.dev.ui({type:'ul',attr:{id:'WikiaNotifications'},classes:['WikiaNotifications']});if($('#WikiaBar').exists()){$('#WikiaBar').append(notifications);}else{$(document.body).append(notifications);}}$('#WikiaNotifications').append(window.dev.ui({type:'li',children:[{type:'div',attr:{id:'helpPanelCTA',},children:[{type:'p',text:this.i18n.msg('get-help').plain(),events:{click:$.proxy(this.togglePanelOpen,this)},},{type:'a',classes:['sprite','close-notification'],events:{click:$.proxy(this.closeNotification,this)},data:{tracking:'CTA-close'}}]}]}),window.dev.ui({type:'div',attr:{id:'helpPanel',},
classes:['hideHelpPanel'],children:[{type:'div',attr:{id:'helpPanel-spinner'},html:Spinner?new Spinner(38,2).html.replace('wds-block','wds-spinner__block').replace('wds-path','wds-spinner__stroke'):''},{type:'div',classes:['helpPanel-close'],events:{click:$.proxy(this.togglePanelClose,this)},children:[window.dev.wds.icon('close')],data:{tracking:'CTA-close'}},{type:'div',classes:['helpPanel-contents'],children:[this.renderStepOne(),this.renderStepTwo(),this.renderStepThree()]}]}));mw.hook('HelpPanel.ui').fire();},renderStepOne:function(){return{type:'div',attr:{id:'hp-step1'},classes:['showHP-step'],children:[{type:'div',attr:{id:'helpPanelHead'},children:[{type:'div',classes:['helpPanel-question'],children:[window.dev.wds.icon('question')],},{type:'h3',text:this.i18n.msg('get-help2').plain()}]},{type:'div',attr:{id:'helpPanel-main'},children:[{type:'h4',text:this.i18n.msg('top-help-pages').plain()},{type:'ul',children:this.helpPages.map(this.mapHelpPage,this)},{type:'p',children:[this
.mapHelpPage('more-help-articles')]}]},{type:'div',attr:{id:'helpPanel-forum'},children:[{type:'div',html:this.i18n.msg('not-here').parse()},{type:'div',attr:{id:'helpPanel-buttons'},children:[{type:'button',classes:['wikia-button'],data:{tracking:'ask-on-forum'},events:{click:$.proxy(this.waitForIP,this)},text:this.i18n.msg('ask').plain()}]}]}]};},renderStepTwo:function(){return{type:'div',attr:{id:'hp-step2'},children:[{type:'div',attr:{id:'helpPanelHead'},children:[{type:'div',classes:['helpPanel-question'],children:[window.dev.wds.icon('question')]},{type:'h3',text:this.i18n.msg('ask').plain()}]},{type:'div',attr:{id:'helpPanel-main'},children:[{type:'p',attr:{id:'helpPanel-post-text'}}]},{type:'div',classes:['helpPanel-forumForm'],attr:{id:'helpPanel-forum'},children:[{type:'p',html:this.i18n.msg(this.config.wgUserName?'reply-info':'reply-info-anon').parse().replace('$1',window.dev.wds.icon('message').outerHTML),},{type:'h4',text:this.i18n.msg('ask-header').plain()},{type:'div',
text:this.i18n.msg('question-error').plain(),classes:['error-msg']},{type:'textarea',attr:{id:'hp-forum-textarea',tabindex:'0',data:{tracking:'post-done'},'aria-disabled':'false',rows:'3',placeholder:this.i18n.msg('ask-placeholder').plain()}},{type:'input',attr:{type:'checkbox',id:'helpPanel-check',name:'include-title',checked:'checked'}},{type:'label',attr:{'for':'helpPanel-check'},text:this.i18n.msg('include-title').plain()},{type:'div',attr:{id:'helpPanel-buttons'},children:[{type:'button',classes:['wikia-button','secondary'],text:this.i18n.msg('back').plain(),data:{tracking:'forum-question-back'},events:{click:$.proxy(this.toggleStep1,this)}},{type:'button',classes:['wikia-button'],text:this.i18n.msg('submit').plain(),data:{tracking:'forum-question-submitted'},events:{click:$.proxy(this.submitPost,this)}}]}]}]};},renderStepThree:function(){return{type:'div',attr:{id:'hp-step3'},children:[{type:'div',attr:{id:'helpPanelHead'},children:[{type:'div',classes:['helpPanel-question'],
children:[window.dev.wds.icon('question')]},{type:'h3',text:this.i18n.msg('ask').plain()}]},{type:'div',attr:{id:'helpPanel-main'},children:[{type:'h4',children:[{type:'span',children:[window.dev.wds.icon('checkmark')]},{type:'span',classes:['successmsg'],text:this.i18n.msg('success-header').plain()}]},{type:'p',text:this.i18n.msg('success-message-intro').plain()},{type:'p',html:this.i18n.msg(this.config.wgUserName?'success-message':'success-message-anon').parse().replace('$1',window.dev.wds.icon('message').outerHTML),},{type:'p',children:[{type:'a',attr:{href:'#',id:'helpPanel-post-link',target:'_blank'},data:{tracking:'post-link'},text:this.i18n.msg('forum-link').plain()}]}]},{type:'div',attr:{id:'helpPanel-forum'},children:[{type:'div',attr:{id:'helpPanel-buttons'},children:[{type:'button',classes:['wikia-button'],attr:{'aria-diabled':'false',tabindex:'0',},text:this.i18n.msg('done').plain(),events:{click:$.proxy(this.done,this)}}]}]}]};},mapHelpPage:function(page){var linkMsg=page
==='general-editing-help'?this.config.wgIsEditPage?'classic-page':'visual-page':page+'-page';return{type:'li',children:[{type:'a',attr:{href:mw.util.getUrl(this.i18n.inContentLang().msg(linkMsg).plain()),target:'_blank',title:page},classes:['helpPanel-help-page-link'],text:this.i18n.msg(page).plain()}]};},destroyVisualEditor:function(){$('#helpPanelCTA').remove();},track:function(action,label,args){tracker.track($.extend({trackingMethod:'analytics',category:'help-panel',action:action,label:label+(this.config.wgUserName?'':'-anon')},args));},addTracking:function(){if(!tracker){return;}this.track(tracker.ACTIONS.VIEW,'editor-loaded',{noninteraction:!0});$('body').on('click','#helpPanelCTA',$.proxy(this.trackOpenModal,this)).on('click','#helpPanel .helpPanel-close',$.proxy(this.trackCloseModal,this)).on('click','#helpPanel [data-tracking]',$.proxy(this.trackButtonClick,this)).on('click','#helpPanel .helpPanel-help-page-link',$.proxy(this.trackHelpPageClick,this));},trackOpenModal:
function(){this.track(tracker.ACTIONS.CLICK,'toggle-panel-open');},trackCloseModal:function(){this.track(tracker.ACTIONS.CLICK,'toggle-panel-close');},trackButtonClick:function(event){this.track(tracker.ACTIONS.CLICK,'button-'+$(event.target).attr('data-tracking'));},trackHelpPageClick:function(event){this.track(tracker.ACTIONS.CLICK,'article-'+$(event.target).attr('title'));}};mw.hook('dev.ui').add($.proxy(HelpPanel.preload,HelpPanel));mw.hook('dev.i18n').add($.proxy(HelpPanel.preload,HelpPanel));mw.hook('dev.wds').add($.proxy(HelpPanel.preload,HelpPanel));importArticles({type:'script',articles:['u:dev:MediaWiki:I18n-js/code.js','u:dev:MediaWiki:UI-js/code.js','u:dev:MediaWiki:WDSIcons/code.js']},{type:'style',articles:['u:dev:MediaWiki:InEditorHelp.css']});});;;mw.loader.state({"wikia.fake.articles.2c2b64c2948f87ec4345880b4963485c":"ready"});

/* cache key: finalfantasy:resourceloader:filter:minify-js:7:5938f2ced4cbc961a82658e8ffd9a282 */